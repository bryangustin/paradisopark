{"remainingRequest":"/Users/work/Documents/projects/paradisopark/node_modules/babel-loader/lib/index.js!/Users/work/Documents/projects/paradisopark/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/work/Documents/projects/paradisopark/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/work/Documents/projects/paradisopark/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/work/Documents/projects/paradisopark/src/views/Login.vue","mtime":1650971371941},{"path":"/Users/work/Documents/projects/paradisopark/babel.config.js","mtime":1650971371861},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/cache-loader/dist/cjs.js","mtime":1650971425034},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/babel-loader/lib/index.js","mtime":1650971426511},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/cache-loader/dist/cjs.js","mtime":1650971425034},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/vue-loader-v16/dist/index.js","mtime":1650971426462}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyBYQ2lyY2xlSWNvbiB9IGZyb20gJ0BoZXJvaWNvbnMvdnVlL3NvbGlkJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFhDaXJjbGVJY29uOiBYQ2lyY2xlSWNvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBlcnJvckxvZ2luOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgZW1haWwgPSB0aGlzLmVtYWlsOwogICAgICAgIHZhciBwYXNzd29yZCA9IHRoaXMucGFzc3dvcmQ7CiAgICAgICAgdGhpcy5heGlvcy5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICdhcGkvbG9naW4nLCB7CiAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdmFyIHVzZXIgPSByZXNwb25zZS5kYXRhLnVzZXI7CiAgICAgICAgICB2YXIgaXNfYWRtaW4gPSB1c2VyLmlzX2FkbWluOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JpZ1N0b3JlLnVzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmlnU3RvcmUuand0JywgcmVzcG9uc2UuZGF0YS50b2tlbik7CgogICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiaWdTdG9yZS5qd3QnKSAhPSBudWxsKSB7CiAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldFVzZXInLCB1c2VyKTsKCiAgICAgICAgICAgIF90aGlzLiRlbWl0KCdsb2dnZWRJbicpOwoKICAgICAgICAgICAgaWYgKF90aGlzLiRyb3V0ZS5wYXJhbXMubmV4dFVybCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKF90aGlzLiRyb3V0ZS5wYXJhbXMubmV4dFVybCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKGlzX2FkbWluID09IDEgPyAnRGFzaGJvYXJkJyA6ICcvJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzLmVycm9yTG9naW4gPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgc2V0Um91dGU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNldFJvdXRlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";AAsEA,SAASA,WAAT,QAA4B,sBAA5B;AAGA,eAAe;AAEbC,YAAU,EAAE;AACVD,eAAW,EAAXA;AADU,GAFC;AAMbE,MANa,kBAMN;AACL,WAAO;AACLC,WAAK,EAAE,EADF;AAELC,cAAQ,EAAE,EAFL;AAGLC,gBAAS,EAAG;AAHP,KAAP;AAKD,GAZY;AAabC,SAAO,EAAE;AACPC,gBADO,wBACMC,CADN,EACS;AAAA;;AACdA,OAAC,CAACC,cAAF;;AACA,UAAI,KAAKL,QAAL,CAAcM,MAAd,GAAuB,CAA3B,EAA8B;AAC5B,YAAIP,KAAI,GAAI,KAAKA,KAAjB;AACA,YAAIC,QAAO,GAAI,KAAKA,QAApB;AAEA,aAAKO,KAAL,CAAWC,IAAX,CAAgBC,OAAO,CAACC,GAAR,CAAYC,eAAZ,GAA8B,WAA9C,EAA2D;AAACZ,eAAK,EAALA,KAAD;AAAQC,kBAAQ,EAARA;AAAR,SAA3D,EAA8EY,IAA9E,CAAmF,kBAAO,EAAK;AAC7F,cAAIC,IAAG,GAAIC,QAAQ,CAAChB,IAAT,CAAce,IAAzB;AACA,cAAIE,QAAO,GAAIF,IAAI,CAACE,QAApB;AAEAC,sBAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAtC;AACAG,sBAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCH,QAAQ,CAAChB,IAAT,CAAcsB,KAAnD;;AAGA,cAAIJ,YAAY,CAACK,OAAb,CAAqB,cAArB,KAAwC,IAA5C,EAAkD;AAChD,iBAAI,CAACC,MAAL,CAAYC,MAAZ,CAAmB,SAAnB,EAA8BV,IAA9B;;AACA,iBAAI,CAACW,KAAL,CAAW,UAAX;;AACA,gBAAI,KAAI,CAACC,MAAL,CAAYC,MAAZ,CAAmBC,OAAnB,IAA8B,IAAlC,EAAwC;AACtC,mBAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,KAAI,CAACJ,MAAL,CAAYC,MAAZ,CAAmBC,OAArC;AACF,aAFA,MAEO;AACL,mBAAI,CAACC,OAAL,CAAaC,IAAb,CAAmBd,QAAO,IAAK,CAAZ,GAAgB,WAAhB,GAA8B,GAAjD;AACF;AACF;AACD,SAjBD,EAiBGe,KAjBH,CAiBS,UAACC,KAAD,EAAS;AAChB,eAAI,CAAC9B,UAAL,GAAkB8B,KAAK,CAACjB,QAAN,CAAehB,IAAf,CAAoBiC,KAAtC;AACD,SAnBD;AAoBF;AACF;AA5BO,GAbI;AA2CbC,UAAQ,EAAC;AACPC,YAAQ,EAAC;AACPC,SADO,iBACF;AACH,eAAO,KAAKZ,MAAL,CAAYa,KAAZ,CAAkBF,QAAzB;AACF;AAHO;AADF;AA3CI,CAAf","names":["XCircleIcon","components","data","email","password","errorLogin","methods","handleSubmit","e","preventDefault","length","axios","post","process","env","VUE_APP_URL_API","then","user","response","is_admin","localStorage","setItem","JSON","stringify","token","getItem","$store","commit","$emit","$route","params","nextUrl","$router","push","catch","error","computed","setRoute","get","state"],"sourceRoot":"","sources":["/Users/work/Documents/projects/paradisopark/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"bg-top sm:bg-top min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\" style=\"background-image: url('img/pexels-burak-kebapci-1253049.jpeg'); ; background-size: cover;\">\n    <div class=\"sm:mx-auto sm:w-full sm:max-w-m\">\n      <div class=\"mx-auto w-full max-w-sm lg:w-96 bg-white p-5 rounded-lg\">\n        <div>\n          <h2 class=\"mt-6 text-3xl font-extrabold text-bord\">\n            login\n          </h2>\n        </div>\n\n        <div class=\"mt-8\">\n          <div class=\"mt-6\">\n            <form @submit.prevent=\"handleSubmit\" class=\"space-y-6\">\n\n              <div>\n                <label for=\"email\" class=\"block text-sm font-medium text-bord\">\n                  email\n                </label>\n                <div class=\"mt-1\">\n                  <input id=\"email\" name=\"email\" type=\"email\" v-model=\"email\" autocomplete=\"email\" required=\"\" class=\"appearance-none block w-full px-3 py-2 border border-bord rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gold focus:border-gold sm:text-sm\" />\n                </div>\n              </div>\n\n              <div class=\"space-y-1\">\n                <label for=\"password\" class=\"block text-sm font-medium text-bord\">\n                  Password\n                </label>\n                <div class=\"mt-1\">\n                  <input id=\"password\" name=\"password\" type=\"password\" v-model=\"password\" autocomplete=\"current-password\" required=\"\" class=\"appearance-none block w-full px-3 py-2 border border-bord rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gold focus:border-gold sm:text-sm\" />\n                </div>\n              </div>\n\n              <div class=\"flex items-center justify-center\">\n                <div class=\"text-sm\">\n                  <router-link to=\"/forgetpassword\" class=\"font-medium text-bord hover:text-bord-light\">\n                    forget password\n                  </router-link>\n                </div>\n              </div>\n\n              <div>\n                <button type=\"submit\"  class=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-gold bg-bord hover:bg-bord-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold\">\n                  login\n                </button>\n              </div>\n            </form>\n          </div>\n          <div v-if=\"errorLogin  != 0\" class=\"rounded-md bg-red-50 p-4 mt-10\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0\">\n                <XCircleIcon class=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n              </div>\n              <div class=\"ml-3\">\n                <h3 class=\"text-sm font-medium text-red-800\">\n                  {{ errorLogin  }}\n                </h3>\n                <div class=\"mt-2 text-sm text-red-700\">\n                  {{ errorLogin  }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { XCircleIcon } from '@heroicons/vue/solid'\n\n\nexport default {\n\n  components: {\n    XCircleIcon,\n  },\n\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      errorLogin :\"\",\n    }\n  },\n  methods: {\n    handleSubmit(e) {\n      e.preventDefault()\n      if (this.password.length > 0) {\n        let email = this.email\n        let password = this.password\n\n        this.axios.post(process.env.VUE_APP_URL_API + 'api/login', {email, password}).then(response => {\n          let user = response.data.user\n          let is_admin = user.is_admin\n\n          localStorage.setItem('bigStore.user', JSON.stringify(user))\n          localStorage.setItem('bigStore.jwt', response.data.token)\n\n\n          if (localStorage.getItem('bigStore.jwt') != null) {\n            this.$store.commit('setUser', user)\n            this.$emit('loggedIn')\n            if (this.$route.params.nextUrl != null) {\n              this.$router.push(this.$route.params.nextUrl)\n            } else {\n              this.$router.push((is_admin == 1 ? 'Dashboard' : '/'))\n            }\n          }\n        }).catch((error)=>{\n          this.errorLogin = error.response.data.error\n        });\n      }\n    }\n  },\n  computed:{\n    setRoute:{\n      get(){\n        return this.$store.state.setRoute\n      }\n    },\n  }\n}\n</script>\n"]}]}