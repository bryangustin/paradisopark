{"remainingRequest":"/Users/work/Documents/projects/paradisopark/node_modules/babel-loader/lib/index.js!/Users/work/Documents/projects/paradisopark/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/work/Documents/projects/paradisopark/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/work/Documents/projects/paradisopark/src/components/Timeslotreservations.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/work/Documents/projects/paradisopark/src/components/Timeslotreservations.vue","mtime":1650971371933},{"path":"/Users/work/Documents/projects/paradisopark/babel.config.js","mtime":1650971371861},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/cache-loader/dist/cjs.js","mtime":1650971425034},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/babel-loader/lib/index.js","mtime":1650971426511},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/cache-loader/dist/cjs.js","mtime":1650971425034},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/vue-loader-v16/dist/index.js","mtime":1650971426462}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dvcmsvRG9jdW1lbnRzL3Byb2plY3RzL3BhcmFkaXNvcGFyay9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL3dvcmsvRG9jdW1lbnRzL3Byb2plY3RzL3BhcmFkaXNvcGFyay9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCB7IENyZWRpdENhcmRJY29uLCBDaGV2cm9uRG93bkljb24sIFRyYXNoSWNvbiwgUGx1c0NpcmNsZUljb24sIFJlZnJlc2hJY29uIH0gZnJvbSAnQGhlcm9pY29ucy92dWUvb3V0bGluZSc7CmltcG9ydCB7IFhJY29uLCBYQ2lyY2xlSWNvbiwgQ2hlY2tJY29uLCBDaGV2cm9uTGVmdEljb24sIFNlbGVjdG9ySWNvbiwgTWFpbEljb24sIExvY2tDbG9zZWRJY29uLCBDaGVja0NpcmNsZUljb24gfSBmcm9tICdAaGVyb2ljb25zL3Z1ZS9zb2xpZCc7CmltcG9ydCB7IERpc2Nsb3N1cmUsIERpc2Nsb3N1cmVCdXR0b24sIERpc2Nsb3N1cmVQYW5lbCwgTGlzdGJveCwgTGlzdGJveEJ1dHRvbiwgTGlzdGJveExhYmVsLCBMaXN0Ym94T3B0aW9uLCBMaXN0Ym94T3B0aW9ucywgUmFkaW9Hcm91cCwgUmFkaW9Hcm91cERlc2NyaXB0aW9uLCBSYWRpb0dyb3VwTGFiZWwsIFJhZGlvR3JvdXBPcHRpb24gfSBmcm9tICdAaGVhZGxlc3N1aS92dWUnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCAndi1jYWxlbmRhci9kaXN0L3N0eWxlLmNzcyc7CmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7CnZhciBudW1iZXJPZlBlb3BsZVRpbWVTbG90ID0gW3sKICBpZDogMSwKICB2YWx1ZTogMCwKICBuYW1lOiAnTWFrZSB5b3VyIGNob2lzZScKfSwgewogIGlkOiAyLAogIHZhbHVlOiAxLAogIG5hbWU6ICcxJwp9LCB7CiAgaWQ6IDMsCiAgdmFsdWU6IDIsCiAgbmFtZTogJzInCn0sIHsKICBpZDogNCwKICB2YWx1ZTogMywKICBuYW1lOiAnMycKfSwgewogIGlkOiA1LAogIHZhbHVlOiA0LAogIG5hbWU6ICc0Jwp9LCB7CiAgaWQ6IDYsCiAgdmFsdWU6IDUsCiAgbmFtZTogJzUnCn0sIHsKICBpZDogNywKICB2YWx1ZTogNiwKICBuYW1lOiAnNicKfSwgewogIGlkOiA4LAogIHZhbHVlOiA3LAogIG5hbWU6ICc3Jwp9LCB7CiAgaWQ6IDksCiAgdmFsdWU6IDgsCiAgbmFtZTogJzgnCn0sIHsKICBpZDogMTAsCiAgdmFsdWU6IDksCiAgbmFtZTogJzknCn0sIHsKICBpZDogMTEsCiAgdmFsdWU6IDEwLAogIG5hbWU6ICcxMCcKfSwgewogIGlkOiAxMiwKICB2YWx1ZTogMTEsCiAgbmFtZTogJzExJwp9LCB7CiAgaWQ6IDEzLAogIHZhbHVlOiAxMiwKICBuYW1lOiAnMTInCn0sIHsKICBpZDogMTQsCiAgdmFsdWU6IDEzLAogIG5hbWU6ICcxMycKfSwgewogIGlkOiAxNSwKICB2YWx1ZTogMTQsCiAgbmFtZTogJzE0Jwp9LCB7CiAgaWQ6IDE2LAogIHZhbHVlOiAxNSwKICBuYW1lOiAnMTUnCn0sIHsKICBpZDogMTcsCiAgdmFsdWU6IDE2LAogIG5hbWU6ICcxNicKfSwgewogIGlkOiAxOCwKICB2YWx1ZTogMTcsCiAgbmFtZTogJzE3Jwp9LCB7CiAgaWQ6IDE5LAogIHZhbHVlOiAxOCwKICBuYW1lOiAnMTgnCn0sIHsKICBpZDogMjAsCiAgdmFsdWU6IDE5LAogIG5hbWU6ICcxOScKfSwgewogIGlkOiAyMSwKICB2YWx1ZTogMjAsCiAgbmFtZTogJzIwJwp9LCB7CiAgaWQ6IDIyLAogIHZhbHVlOiAyMSwKICBuYW1lOiAnMjEnCn0sIHsKICBpZDogMjMsCiAgdmFsdWU6IDIyLAogIG5hbWU6ICcyMicKfSwgewogIGlkOiAyNCwKICB2YWx1ZTogMjMsCiAgbmFtZTogJzIzJwp9LCB7CiAgaWQ6IDI1LAogIHZhbHVlOiAyNCwKICBuYW1lOiAnMjQnCn0sIHsKICBpZDogMjYsCiAgdmFsdWU6IDI1LAogIG5hbWU6ICcyNScKfSwgewogIGlkOiAyNywKICB2YWx1ZTogMjYsCiAgbmFtZTogJzI2Jwp9LCB7CiAgaWQ6IDI4LAogIHZhbHVlOiAyNywKICBuYW1lOiAnMjcnCn0sIHsKICBpZDogMjksCiAgdmFsdWU6IDI4LAogIG5hbWU6ICcyOCcKfSwgewogIGlkOiAzMCwKICB2YWx1ZTogMjksCiAgbmFtZTogJzI5Jwp9LCB7CiAgaWQ6IDMxLAogIHZhbHVlOiAzMCwKICBuYW1lOiAnMzAnCn0sIHsKICBpZDogMzIsCiAgdmFsdWU6IDMxLAogIG5hbWU6ICczMScKfSwgewogIGlkOiAzMywKICB2YWx1ZTogMzIsCiAgbmFtZTogJzMyJwp9LCB7CiAgaWQ6IDM0LAogIHZhbHVlOiAzMywKICBuYW1lOiAnMzMnCn0sIHsKICBpZDogMzUsCiAgdmFsdWU6IDM0LAogIG5hbWU6ICczNCcKfSwgewogIGlkOiAzNiwKICB2YWx1ZTogMzUsCiAgbmFtZTogJzM1Jwp9LCB7CiAgaWQ6IDM3LAogIHZhbHVlOiAzNiwKICBuYW1lOiAnMzYnCn0sIHsKICBpZDogMzgsCiAgdmFsdWU6IDM3LAogIG5hbWU6ICczNycKfSwgewogIGlkOiAzOSwKICB2YWx1ZTogMzgsCiAgbmFtZTogJzM4Jwp9LCB7CiAgaWQ6IDQwLAogIHZhbHVlOiAzOSwKICBuYW1lOiAnMzknCn0sIHsKICBpZDogNDEsCiAgdmFsdWU6IDQwLAogIG5hbWU6ICc0MCcKfSwgewogIGlkOiA0MiwKICB2YWx1ZTogNDEsCiAgbmFtZTogJzQxJwp9LCB7CiAgaWQ6IDQzLAogIHZhbHVlOiA0MiwKICBuYW1lOiAnNDInCn0sIHsKICBpZDogNDQsCiAgdmFsdWU6IDQzLAogIG5hbWU6ICc0MycKfSwgewogIGlkOiA0NSwKICB2YWx1ZTogNDQsCiAgbmFtZTogJzQ0Jwp9LCB7CiAgaWQ6IDQ2LAogIHZhbHVlOiA0NSwKICBuYW1lOiAnNDUnCn0sIHsKICBpZDogNDcsCiAgdmFsdWU6IDQ2LAogIG5hbWU6ICc0NicKfSwgewogIGlkOiA0OCwKICB2YWx1ZTogNDcsCiAgbmFtZTogJzQ3Jwp9LCB7CiAgaWQ6IDQ5LAogIHZhbHVlOiA0OCwKICBuYW1lOiAnNDgnCn0sIHsKICBpZDogNTAsCiAgdmFsdWU6IDQ5LAogIG5hbWU6ICc0OScKfSwgewogIGlkOiA1MSwKICB2YWx1ZTogNTAsCiAgbmFtZTogJzUwJwp9LCB7CiAgaWQ6IDUyLAogIHZhbHVlOiA1MSwKICBuYW1lOiAnNTEnCn0sIHsKICBpZDogNTMsCiAgdmFsdWU6IDUyLAogIG5hbWU6ICc1MicKfSwgewogIGlkOiA1NCwKICB2YWx1ZTogNTMsCiAgbmFtZTogJzUzJwp9LCB7CiAgaWQ6IDU1LAogIHZhbHVlOiA1NCwKICBuYW1lOiAnNTQnCn0sIHsKICBpZDogNTYsCiAgdmFsdWU6IDU1LAogIG5hbWU6ICc1NScKfSwgewogIGlkOiA1NywKICB2YWx1ZTogNTYsCiAgbmFtZTogJzU2Jwp9LCB7CiAgaWQ6IDU4LAogIHZhbHVlOiA1NywKICBuYW1lOiAnNTcnCn0sIHsKICBpZDogNTksCiAgdmFsdWU6IDU4LAogIG5hbWU6ICc1OCcKfSwgewogIGlkOiA2MCwKICB2YWx1ZTogNTksCiAgbmFtZTogJzU5Jwp9LCB7CiAgaWQ6IDYxLAogIHZhbHVlOiA2MCwKICBuYW1lOiAnNjAnCn1dOwp2YXIgdGFicyA9IFt7CiAgbmFtZTogJ015IEFjY291bnQnLAogIGhyZWY6ICcvZGFzaGJvYXJkJywKICBjdXJyZW50OiBmYWxzZQp9LCB7CiAgbmFtZTogJ1RpbWVzbG90IHJlc2VydmF0aW9ucycsCiAgaHJlZjogJy90aW1lc2xvdHJlc2VydmF0aW9ucycsCiAgY3VycmVudDogdHJ1ZQp9LCB7CiAgbmFtZTogJ0Z1bGwgZGF5IHJlc2VydmF0aW9ucycsCiAgaHJlZjogJy9mdWxsZGF5cmVzZXJ2YXRpb25zJywKICBjdXJyZW50OiBmYWxzZQp9LCB7CiAgbmFtZTogJ1ByaWNlICYgZGF0ZSBvcHRpb25zJywKICBocmVmOiAnL3ByaWNlZGF0ZW9wdGlvbnMnLAogIGN1cnJlbnQ6IGZhbHNlCn0sIHsKICBuYW1lOiAnQWRkaXRpb25hbCBvcHRpb25zJywKICBocmVmOiAnL2FkZGl0aW9uYWxvcHRpb25zJywKICBjdXJyZW50OiBmYWxzZQp9XTsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMudXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JpZ1N0b3JlLnVzZXInKSk7IC8vIHRoaXMuYXhpb3MucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAiYXBpL3Nsb3RzIikKICAgIC8vICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgICB0aGlzLm9yZGVycyA9IHJlc3BvbnNlLmRhdGEKICAgIC8vICAgICB9KQoKICAgIHRoaXMuYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICJhcGkvdGltZXNsb3RzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMudGltZXNsb3RzID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogICAgdGhpcy5heGlvcy5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICJhcGkvc2xvdHMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgc2xvdHMgPSByZXNwb25zZS5kYXRhOwogICAgICBfdGhpcy5zbG90cyA9IHNsb3RzLm1hcChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzdGFydDogbmV3IERhdGUoZWxlbWVudC5zdGFydGRhdGUpLAogICAgICAgICAgZW5kOiBuZXcgRGF0ZShlbGVtZW50LmZpbmlzaGRhdGUpLAogICAgICAgICAgc3RhcnR0aW1lOiBlbGVtZW50LnN0YXJ0dGltZSwKICAgICAgICAgIGZpbmlzaHRpbWU6IGVsZW1lbnQuZmluaXNodGltZSwKICAgICAgICAgIHNsb3Q6IGVsZW1lbnQuc2xvdF9pZAogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CiAgICB0aGlzLmF4aW9zLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAiYXBpL2FkZGl0aW9uYWxzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIGFkZGl0aW9uYWxzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgX3RoaXMuYWRkaXRpb25hbHMgPSBhZGRpdGlvbmFscy5tYXAoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IGVsZW1lbnQuaWQsCiAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsCiAgICAgICAgICBkZXNjcmlwdGlvbjogZWxlbWVudC5kZXNjcmlwdGlvbiwKICAgICAgICAgIHByaWNlOiBlbGVtZW50LnByaWNlLAogICAgICAgICAgaW1hZ2U6IGVsZW1lbnQuaW1hZ2UsCiAgICAgICAgICBsYW5ndWFnZTogZWxlbWVudC5sYW5ndWFnZSwKICAgICAgICAgIHF1YW50aXR5OiAwCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKICAgIHRoaXMuYXhpb3MucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAiYXBpL2Z1bGxkYXlzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIGZ1bGxkYXlzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgX3RoaXMuZnVsbGRheXMgPSBmdWxsZGF5cy5tYXAoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgc3RhcnQ6IG5ldyBEYXRlKGVsZW1lbnQuc3RhcnRkYXRlKSwKICAgICAgICAgIGVuZDogbmV3IERhdGUoZWxlbWVudC5maW5pc2hkYXRlKSwKICAgICAgICAgIHN0YXJ0dGltZTogZWxlbWVudC5zdGFydHRpbWUsCiAgICAgICAgICBmaW5pc2h0aW1lOiBlbGVtZW50LmZpbmlzaHRpbWUsCiAgICAgICAgICBzbG90OiBlbGVtZW50LnNsb3RfaWQKICAgICAgICB9OwogICAgICB9KTsgLy8gRmlsdGVyIGFsbCB0aGUgZnVsbGRheXMgd2hlcmUgdGhlIHJlc2VydmF0aW9uIHRha2VzIG9ubHkgdGhlIGZpcnN0IHNsb3Qgb2YgdGhlIGNoZWNrb3V0IGRheQoKICAgICAgdmFyIHNsb3QxID0gX3RoaXMuZnVsbGRheXMuZmlsdGVyKGZ1bmN0aW9uIChpdCkgewogICAgICAgIHJldHVybiBpdC5zbG90LmluY2x1ZGVzKDEpOwogICAgICB9KTsKCiAgICAgIHNsb3QxLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBlbmQgPSBuZXcgRGF0ZShpdGVtLmVuZCk7CiAgICAgICAgZW5kLnNldERhdGUoZW5kLmdldERhdGUoKSAtIDEpOwogICAgICAgIGl0ZW0uZW5kID0gZW5kOwogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsgLy8gRmlsdGVyIGFsbCB0aGUgZnVsbGRheXMgd2hlcmUgdGhlIHRoZSByZXNlcnZ0aW9uIHRha2UgbW9yZSB0aGFuIGZpcnN0IHNsb3QgKCBsYXRlIGNoZWNrb3V0ICkKCiAgICAgIHZhciBvdGhlclNsb3QgPSBfdGhpcy5mdWxsZGF5cy5maWx0ZXIoZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgcmV0dXJuIGl0LnNsb3QgIT0gMTsKICAgICAgfSk7IC8vIG1lcmdlIGRlIHJlc3VsdCBpbiBvcmRlciB0byBjb3JyZWN0bHkgcG9wdWxhdGUgdGhlIGNhbGVuZGFyIGRhaWx5IGJhc2VkICggaWYgc3RhbmRhcmQgY2hlY2tvdXQgYm9vayBvbmx5IHRoZSBmaXJzdCBzbG90IC0gZWxzZSBib29rIHRoZSBmdWxsIGRheSApCgoKICAgICAgdmFyIGRhdGVzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzbG90MSksIF90b0NvbnN1bWFibGVBcnJheShvdGhlclNsb3QpKTsKICAgICAgX3RoaXMuZGF0ZXMgPSBkYXRlczsKICAgICAgdmFyIGRpc2FibGUgPSBbZGF0ZXNdOyAvLyBCbG9jayB0aGUgd2Vla2VuZCBkYXlzIGNveiBvbiB0aW1lc2xvdCB3ZSBjYW5ub3QgZ2V0IGFjY2VzcyB0byB0aGVtCgogICAgICB2YXIgd2Vla2VuZCA9IHsKICAgICAgICB3ZWVrZGF5czogWzYsIDddCiAgICAgIH07CiAgICAgIGRpc2FibGVbMF0udW5zaGlmdCh3ZWVrZW5kKTsKICAgICAgdmFyIGJvb2tlZWQgPSBbZGlzYWJsZVswXV07CiAgICAgIF90aGlzLmRpc2FibGVDYWxlbmRhciA9IGJvb2tlZWRbMF07CiAgICB9KTsKICAgIHRoaXMuYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICJhcGkvcHJvZHVjdHMgIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMucHJvZHVjdHMgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgICB0aGlzLmZldGNoT3JkZXJzKCk7CiAgfSwKCiAgLyplc2xpbnQtZGlzYWJsZSAqLwogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuYXhpb3MucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAnYXBpL3Nsb3RzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIF90aGlzMi5vcmRlcnMgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgc2Vjb25kU3RhZ2U6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJlc2VydmF0aW9uOwogICAgICB9LAogICAgICBzZXRVc2VyOiB7CiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2V0VXNlcjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJPcmRlcnM6IGZ1bmN0aW9uIGZpbHRlck9yZGVycygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5vcmRlcnMuZmlsdGVyKGZ1bmN0aW9uIChvcmRlcikgewogICAgICAgIHJldHVybiBvcmRlci5pZCA9PSBfdGhpczMuc2VhcmNoUXVlcnk7CiAgICAgIH0pOwogICAgfSwKICAgIHNvcnRlZE9yZGVyczogZnVuY3Rpb24gc29ydGVkT3JkZXJzKCkgewogICAgICB0aGlzLm9yZGVycy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGIuaWQpIC0gbmV3IERhdGUoYS5pZCk7CiAgICAgIH0pOwogICAgICByZXR1cm4gdGhpcy5vcmRlcnM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbnB1dDogZnVuY3Rpb24gaW5wdXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGRhdGUgPSBtb21lbnQodGhpcy5kYXRlKS5mb3JtYXQoJ1lZWVktTS1ERCcpOwogICAgICB0aGlzLmF4aW9zLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAiYXBpL3RpbWVzbG90cyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0LnRpbWVzbG90cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOyAvLyBnZXQgYWxsIHRoZSByZXNlcnZhdGlvbnMgZm9yIHRoZSBjaG9zZW4gZGF5IGJ5IHRoZSBmaW5pc2hkYXRlICggSW4gdGltZXNsb3QgZmluaXNoIGRhdGUgJiBzdGFydCBkYXRlIGFyZSB0aGUgc2FtZSAtIHRha2luZyB0aGUgZmluaXNoIGRhdGUgJiB0aW1lIHdlIGNhbiB1bmRlcnN0YW5kIHdoZXJlIGZpbmlzaCB0aGUgZnVsbGRheSByZXNlcnZhdGlvbiB0b28gKSAgKQoKICAgICAgdGhpcy5heGlvcy5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICdhcGkvc2xvdGRpc3BvbmliaWxpdHlFbmQgJywgewogICAgICAgIGRhdGU6IGRhdGUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQuZGF5ID0gcmVzcG9uc2UuZGF0YTsgLy90YWtlIHNsb3QgYm9va2VkIHNsb3RzIGZvcm0gcmVzZXJ2YXRpb24gdGFibGUKCiAgICAgICAgdmFyIGhvdXJGcm9tID0gX3RoaXM0LmRheS5tYXAoZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN0YXJ0OiBhLnN0YXJ0dGltZSwKICAgICAgICAgICAgZW5kOiBhLmZpbmlzaHRpbWUsCiAgICAgICAgICAgIHNsb3RfaWQ6IGEuc2xvdF9pZAogICAgICAgICAgfTsKICAgICAgICB9KTsgLy8yIC0gb3JkZXIgaG91cnMgbWluIHRvIG1heAoKCiAgICAgICAgdmFyIGZyb20gPSBob3VyRnJvbS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS5zdGFydCAtIGIuc3RhcnQ7CiAgICAgICAgfSk7IC8vdGFraW5nIGFsbCB0aGUgdGltZXNsb3QgaG93IHNldCBieSBhZG1pbiBpbiBhZG1pbiBwYWJlbAoKICAgICAgICB2YXIgc2xvdHNGcm9tID0gX3RoaXM0LnRpbWVzbG90cy5tYXAoZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN0YXJ0OiBhLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IGEuZW5kLAogICAgICAgICAgICBzbG90X2lkOiBhLmlkCiAgICAgICAgICB9OwogICAgICAgIH0pOyAvL2RpZmZlcmVuY2UgdG8gdW5kZXJzdGFuZCBhdmFpbGFibGUgdGltZXNsb3QgaW4gYXJyYXkgLSBmcmVlIHNsb3RzCgoKICAgICAgICB2YXIgdmFsdWVzQiA9IGZyb20ucmVkdWNlKGZ1bmN0aW9uIChhLCBjKSB7CiAgICAgICAgICBhW2Muc3RhcnRdID0gYy5zdGFydDsKICAgICAgICAgIHJldHVybiBhOwogICAgICAgIH0sIHt9KTsKICAgICAgICB2YXIgdmFsdWVzQSA9IHNsb3RzRnJvbS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGMpIHsKICAgICAgICAgIGFbYy5zdGFydF0gPSBjLnN0YXJ0OwogICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgfSwge30pOwogICAgICAgIHZhciBzbG90c0ZyZWUgPSBzbG90c0Zyb20uZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICByZXR1cm4gIXZhbHVlc0JbYy5zdGFydF07CiAgICAgICAgfSkuY29uY2F0KGZyb20uZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICByZXR1cm4gIXZhbHVlc0FbYy5zdGFydF07CiAgICAgICAgfSkpOyAvL2FkZGluZyBhdmFpbGFibGUga2V5IHNldCB0byAxIHRvIHJlY29nbmlzZSBvbiBjc3MgZnJlZSBzbG90cwoKICAgICAgICB2YXIgc2xvdHNGcmVlQWN0aXZlID0gc2xvdHNGcmVlLm1hcChmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdiksIHt9LCB7CiAgICAgICAgICAgIGF2YWlsYWJsZTogMQogICAgICAgICAgfSk7CiAgICAgICAgfSk7IC8vIGRpZmZlcmVuY2UgdG8gdW5kZXJzdGFuZCBib29rZWQgdGltZXNsb3QgaW4gYXJyYXkgLSAgYm9va2VkIHNsb3RzCgogICAgICAgIHZhciB2YWx1ZUIgPSBmcm9tLnJlZHVjZShmdW5jdGlvbiAoYSwgYykgewogICAgICAgICAgYVtjLnN0YXJ0XSA9IGMuc3RhcnQ7CiAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9LCB7fSk7CiAgICAgICAgdmFyIHZhbHVlQSA9IHNsb3RzRnJvbS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGMpIHsKICAgICAgICAgIGFbYy5zdGFydF0gPSBjLnN0YXJ0OwogICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgfSwge30pOwogICAgICAgIHZhciBzbG90c1Rha2VuID0gc2xvdHNGcm9tLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIHZhbHVlQltjLnN0YXJ0XTsKICAgICAgICB9KS5jb25jYXQoZnJvbS5maWx0ZXIoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiAhdmFsdWVBW2Muc3RhcnRdOwogICAgICAgIH0pKTsgLy9hZGRpbmcgYXZhaWxhYmxlIGtleSBzZXQgdG8gbyB0byByZWNvZ25pc2Ugb24gY3NzIGJvb2tlZCBzbG90cwoKICAgICAgICB2YXIgc2xvdHNUYWtlbkluYWN0aXZlID0gc2xvdHNUYWtlbi5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHYpLCB7fSwgewogICAgICAgICAgICBhdmFpbGFibGU6IDAKICAgICAgICAgIH0pOwogICAgICAgIH0pOyAvLyBNZXJnaW4gMiByZXN1bHQKCiAgICAgICAgdmFyIHRvZGF5U0xPVFMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNsb3RzRnJlZUFjdGl2ZSksIF90b0NvbnN1bWFibGVBcnJheShzbG90c1Rha2VuSW5hY3RpdmUpKTsgLy8gU29ydCBieSBtaW4gdG8gbWF4IGhvdXIgc3RhcnQgc2xvdHMKCiAgICAgICAgdmFyIHRvZGF5U29ydGVkID0gdG9kYXlTTE9UUy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS5zdGFydCAtIGIuc3RhcnQ7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXM0LnRpbWVzbG90cyA9IHRvZGF5U29ydGVkOwogICAgICB9KTsKICAgIH0sCiAgICBleDogZnVuY3Rpb24gZXgoc3RhcnQsIGVuZCwgaWQpIHsKICAgICAgdGhpcy5zZXRlY3RlZFNsb3RFbmQgPSBlbmQ7CiAgICAgIHRoaXMuc2V0ZWN0ZWRTbG90U3RhcnQgPSBzdGFydDsKICAgICAgdGhpcy5zZXRlY3RlZFNsb3RJZCA9IGlkOwoKICAgICAgaWYgKHRoaXMuZGF0ZSA9PSAnJykgewogICAgICAgIHRoaXMuZW1wdHlEYXRlcyA9ICdQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgcmFuZ2Ugb2YgZGF5cyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuZ3Vlc3RzID09ICcnKSB7CiAgICAgICAgICB0aGlzLmVtcHR5R3Vlc3RzID0gJ1BsZWFzZSBzZWxlY3QgbnVtYmVyIG9mIGd1ZXN0cyc7CiAgICAgICAgICB0aGlzLmRhdGUgPSAnJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5hbW91bnQgPSB0aGlzLnByb2R1Y3RzWzBdWydwcmljZSddICogdGhpcy5ndWVzdHM7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2hlY2tudW1iZXJPZlBlb3BsZTogZnVuY3Rpb24gY2hlY2tudW1iZXJPZlBlb3BsZShlKSB7CiAgICAgIHRoaXMuZW1wdHlTZWxlY3Rpb24gPSAnJzsKICAgICAgdGhpcy5lbXB0eUd1ZXN0cyA9ICcnOwogICAgICB0aGlzLmVtcHR5RGF0ZXMgPSAnJzsKICAgICAgdGhpcy5ndWVzdHMgPSAnJzsKICAgICAgdGhpcy5hbW91bnQgPSAnJzsKICAgICAgdGhpcy5ndWVzdHMgPSBlOwogICAgfSwKICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoZGF0ZSwgYW1vdW50LCBndWVzdHMpIHsKICAgICAgaWYgKHRoaXMuYW1vdW50ID09ICcnKSB7CiAgICAgICAgdGhpcy5lbXB0eVNlbGVjdGlvbiA9ICdQbGVhc2UgZmlsbCBhbGwgdGhlIGZpZWxkIG5lY2Vzc2FyeSB0byBjb21wbGV0ZSB5b3VyIHJlc2VydmF0aW9uICc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGJvb2sgPSB7CiAgICAgICAgICBkYXRlOiBkYXRlLAogICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICBndWVzdHM6IGd1ZXN0cywKICAgICAgICAgIHNsb3Q6IHRoaXMuc2V0ZWN0ZWRTbG90SWQsCiAgICAgICAgICBzdGFydDogdGhpcy5zZXRlY3RlZFNsb3RTdGFydCwKICAgICAgICAgIGVuZDogdGhpcy5zZXRlY3RlZFNsb3RFbmQKICAgICAgICB9OwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0UmVzZXJ2YXRpb24nLCBib29rKTsKICAgICAgICB0aGlzLmFkZEFkZGl0aW9uYWxzID0gMTsKICAgICAgfQogICAgfSwKICAgIGFkZGl0aW9uYWw6IGZ1bmN0aW9uIGFkZGl0aW9uYWwoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYWRkaXRpb25hbHMpCiAgICAgIHZhciBhZGRpdGlvbmFsQW1vdW50ID0gdGhpcy5hZGRpdGlvbmFscy5tYXAoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IGVsZW1lbnQuaWQsCiAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsCiAgICAgICAgICBkZXNjcmlwdGlvbjogZWxlbWVudC5kZXNjcmlwdGlvbiwKICAgICAgICAgIHByaWNlOiBlbGVtZW50LnByaWNlLAogICAgICAgICAgcXVhbnRpdHk6IGVsZW1lbnQucXVhbnRpdHksCiAgICAgICAgICB0b3RhbDogZWxlbWVudC5wcmljZSAqIGVsZW1lbnQucXVhbnRpdHkKICAgICAgICB9OwogICAgICB9KTsKICAgICAgdGhpcy5hZGQgPSBhZGRpdGlvbmFsQW1vdW50OwogICAgICB2YXIgdG90YWwgPSBhZGRpdGlvbmFsQW1vdW50LnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7CiAgICAgICAgcmV0dXJuIHByZXYgKyBjdXIudG90YWw7CiAgICAgIH0sIDApOwogICAgICB0aGlzLmFkZGl0aW9uYWxBbW91bnQgPSB0b3RhbDsKICAgICAgdGhpcy5hbW91bnQgPSBwYXJzZUludCh0aGlzLmFkZGl0aW9uYWxBbW91bnQpICsgcGFyc2VJbnQodGhpcy5zZWNvbmRTdGFnZS5hbW91bnQpOwogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICdhZGRpdGlvbmFsQW1vdW50JzogZnVuY3Rpb24gYWRkaXRpb25hbEFtb3VudCh2YWwsIG9sZFZhbCkgewogICAgICAgIGlmICh2YWwgIT0gJycpIHsKICAgICAgICAgIHZhciBhbW91bnQgPSB0aGlzLmFtb3VudDsKICAgICAgICAgIHRoaXMuYW1vdW50ID0gYW1vdW50IC0gb2xkVmFsICsgdmFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX2Ftb3VudCA9IHRoaXMuYW1vdW50OwogICAgICAgICAgdGhpcy5hbW91bnQgPSBfYW1vdW50IC0gb2xkVmFsICsgdmFsOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNvbmZpcm1hdGlvbjogZnVuY3Rpb24gY29uZmlybWF0aW9uKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBsYW5ndWFnZSA9ICdGUic7CiAgICAgIHZhciB0cmFuc2FjdGlvbklEID0gJ2FkbWluIHJlc2VydmF0aW9uJzsKICAgICAgdmFyIGNhcmRCcmFuZCA9ICdubyBjYXJkIHJlcXVpcmVkJzsKICAgICAgdmFyIGxhc3RGb3VyID0gJ2FkbWluIGFjY291bnQnOwogICAgICB2YXIgZXhwaXJlID0gJ25vIGV4cGlyZSBkYXRlJzsKICAgICAgdmFyIHVzZXJfaWQgPSB0aGlzLnVzZXIuaWQ7CiAgICAgIHZhciBwcm9kdWN0X2lkID0gJzEnOwogICAgICB2YXIgc3RhcnRkYXRlID0gbW9tZW50KHRoaXMuc2Vjb25kU3RhZ2UuZGF0ZSkuZm9ybWF0KCdZWVlZLU0tREQnKTsKICAgICAgdmFyIGZpbmlzaGRhdGUgPSBtb21lbnQodGhpcy5zZWNvbmRTdGFnZS5kYXRlKS5mb3JtYXQoJ1lZWVktTS1ERCcpOwogICAgICB2YXIgc3RhcnR0aW1lID0gdGhpcy5zZWNvbmRTdGFnZS5zdGFydDsKICAgICAgdmFyIGZpbmlzaHRpbWUgPSB0aGlzLnNlY29uZFN0YWdlLmVuZDsKICAgICAgdmFyIHNsb3RfaWQgPSB0aGlzLnNlY29uZFN0YWdlLnNsb3Q7CiAgICAgIHZhciBmdWxsZGF5ID0gJzAnOwogICAgICB2YXIgZ3Vlc3RzID0gdGhpcy5zZWNvbmRTdGFnZS5ndWVzdHM7CiAgICAgIHZhciBhbW91bnQgPSBwYXJzZUludCh0aGlzLmFtb3VudCk7CiAgICAgIHRoaXMuYXhpb3MucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAnYXBpL2FkbWlucmVzZXJ2YXRpb24nLCB7CiAgICAgICAgdXNlcl9pZDogdXNlcl9pZCwKICAgICAgICBwcm9kdWN0X2lkOiBwcm9kdWN0X2lkLAogICAgICAgIHN0YXJ0ZGF0ZTogc3RhcnRkYXRlLAogICAgICAgIGZpbmlzaGRhdGU6IGZpbmlzaGRhdGUsCiAgICAgICAgc3RhcnR0aW1lOiBzdGFydHRpbWUsCiAgICAgICAgZmluaXNodGltZTogZmluaXNodGltZSwKICAgICAgICBzbG90X2lkOiBzbG90X2lkLAogICAgICAgIGZ1bGxkYXk6IGZ1bGxkYXksCiAgICAgICAgZ3Vlc3RzOiBndWVzdHMsCiAgICAgICAgdHJhbnNhY3Rpb25JRDogdHJhbnNhY3Rpb25JRCwKICAgICAgICBjYXJkQnJhbmQ6IGNhcmRCcmFuZCwKICAgICAgICBsYXN0Rm91cjogbGFzdEZvdXIsCiAgICAgICAgZXhwaXJlOiBleHBpcmUsCiAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGV4dHJhcyA9IF90aGlzNS5hZGQubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM1LmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkxfQVBJICsgJ2FwaS9leHRyYXMnLCB7CiAgICAgICAgICAgIHJlc2VydmF0aW9uX2lkOiByZXNwb25zZS5kYXRhLmlkLAogICAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsCiAgICAgICAgICAgIHByaWNlOiBlbGVtZW50LnByaWNlLAogICAgICAgICAgICBxdWFudGl0eTogZWxlbWVudC5xdWFudGl0eQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgIGNvbnNvbGUubG9nKGV4dHJhcyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzNS5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy5lcnJvciAhPSAnJykgewogICAgICAgIHRoaXMuYWRkaXRpb25hbEFtb3VudCA9ICcnOwogICAgICAgIHRoaXMucmFuZ2UgPSAnJzsKICAgICAgICB0aGlzLmd1ZXN0cyA9ICcnOwogICAgICAgIHRoaXMuYWRkQWRkaXRpb25hbCA9ICcnOwogICAgICAgIHRoaXMuYW1vdW50ID0gJyc7CiAgICAgICAgdGhpcy5zdWNjZXNzID0gJ1N1Y2Nlc3NmdWxseSBib29rJzsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFyUmVzZXJ2YXRpb24nKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFyQWRkaXRpb25hbHMnKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFydG90YWxBbW91bnQnKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFybGF0ZUNoZWNrb3V0Jyk7CiAgICAgICAgdGhpcy5lcnJvciA9ICdTb21ldGhpbmcgZ29lcyB3cm9uZyBwbGVhc2UgdHJ5IGFnYWluJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkZGl0aW9uYWxBbW91bnQgPSAnJzsKICAgICAgICB0aGlzLmRhdGUgPSAnJzsKICAgICAgICB0aGlzLmd1ZXN0cyA9ICcnOwogICAgICAgIHRoaXMuYWRkQWRkaXRpb25hbHMgPSAnJzsKICAgICAgICB0aGlzLmFtb3VudCA9ICcnOwogICAgICAgIHRoaXMuc3VjY2VzcyA9ICdTdWNjZXNzZnVsbHkgYm9vayc7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjbGVhclJlc2VydmF0aW9uJyk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjbGVhckFkZGl0aW9uYWxzJyk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjbGVhcnRvdGFsQW1vdW50Jyk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjbGVhcmxhdGVDaGVja291dCcpOwogICAgICB9CiAgICB9LAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICB9LAogICAgZmV0Y2hPcmRlcnM6IGZ1bmN0aW9uIGZldGNoT3JkZXJzKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAnYXBpL3Nsb3RzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gX3RoaXM2Lm9yZGVycyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZU9yZGVyOiBmdW5jdGlvbiByZW1vdmVPcmRlcihvcmRlcklELCBpbmRleCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MuZGVsZXRlKHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICJhcGkvcmVzZXJ2YXRpb25zLyIgKyBvcmRlcklEKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNy5vcmRlcnMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlcnM6IFtdLAogICAgICBmYWNldDogW10sCiAgICAgIHNlYXJjaFF1ZXJ5OiBudWxsLAogICAgICBhZGQ6ICcnLAogICAgICBhZGRpdGlvbmFsczogJycsCiAgICAgIGFkZGl0aW9uYWxBbW91bnQ6ICcnLAogICAgICB1c2VyOiAnJywKICAgICAgYWRkQWRkaXRpb25hbHM6ICcnLAogICAgICBlcnJvcjogJycsCiAgICAgIHN1Y2Nlc3M6ICcnLAogICAgICBzZXRlY3RlZFNsb3RJZDogJycsCiAgICAgIHNldGVjdGVkU2xvdFN0YXJ0OiAnJywKICAgICAgc2V0ZWN0ZWRTbG90RW5kOiAnJywKICAgICAgZW1wdHlTZWxlY3Rpb246ICcnLAogICAgICBlbXB0eUd1ZXN0czogJycsCiAgICAgIGVtcHR5RGF0ZXM6ICcnLAogICAgICBFbmRPZkRheTogJycsCiAgICAgIGZ1bGxkYXlzRmluaXNoU2xvdDogW10sCiAgICAgIHNsb3RzOiAnJywKICAgICAgZnVsbGRheXM6ICcnLAogICAgICBkYXk6ICcnLAogICAgICBhdmFpbGFibGVIb3VyU2xvdHM6IFtdLAogICAgICBwcm9kdWN0czogJycsCiAgICAgIGFtb3VudDogJycsCiAgICAgIGd1ZXN0czogJycsCiAgICAgIGRpc2FibGVDYWxlbmRhcjogJycsCiAgICAgIHNlbGVjdGVkVGltZVNsb3RzOiAnJywKICAgICAgdGltZXNsb3RzOiAnJywKICAgICAgZGF0ZTogJycsCiAgICAgIGF0dHJpYnV0ZXM6IFt7CiAgICAgICAga2V5OiAndG9kYXknLAogICAgICAgIGhpZ2hsaWdodDogewogICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgIGZpbGxNb2RlOiAnc29saWQnCiAgICAgICAgfSwKICAgICAgICBkYXRlczogbmV3IERhdGUoKQogICAgICB9XQogICAgfTsKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBzZWxlY3RlZCA9IHJlZihudW1iZXJPZlBlb3BsZVRpbWVTbG90WzBdKTsKICAgIHJldHVybiB7CiAgICAgIG51bWJlck9mUGVvcGxlVGltZVNsb3Q6IG51bWJlck9mUGVvcGxlVGltZVNsb3QsCiAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCwKICAgICAgdGFiczogdGFicywKICAgICAgbW9tZW50OiBtb21lbnQKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBSZWZyZXNoSWNvbjogUmVmcmVzaEljb24sCiAgICBDcmVkaXRDYXJkSWNvbjogQ3JlZGl0Q2FyZEljb24sCiAgICBDaGV2cm9uRG93bkljb246IENoZXZyb25Eb3duSWNvbiwKICAgIERpc2Nsb3N1cmU6IERpc2Nsb3N1cmUsCiAgICBEaXNjbG9zdXJlQnV0dG9uOiBEaXNjbG9zdXJlQnV0dG9uLAogICAgRGlzY2xvc3VyZVBhbmVsOiBEaXNjbG9zdXJlUGFuZWwsCiAgICBUcmFzaEljb246IFRyYXNoSWNvbiwKICAgIFhJY29uOiBYSWNvbiwKICAgIFhDaXJjbGVJY29uOiBYQ2lyY2xlSWNvbiwKICAgIENoZWNrSWNvbjogQ2hlY2tJY29uLAogICAgQ2hldnJvbkxlZnRJY29uOiBDaGV2cm9uTGVmdEljb24sCiAgICBTZWxlY3Rvckljb246IFNlbGVjdG9ySWNvbiwKICAgIE1haWxJY29uOiBNYWlsSWNvbiwKICAgIExvY2tDbG9zZWRJY29uOiBMb2NrQ2xvc2VkSWNvbiwKICAgIENoZWNrQ2lyY2xlSWNvbjogQ2hlY2tDaXJjbGVJY29uLAogICAgUGx1c0NpcmNsZUljb246IFBsdXNDaXJjbGVJY29uLAogICAgTGlzdGJveDogTGlzdGJveCwKICAgIExpc3Rib3hCdXR0b246IExpc3Rib3hCdXR0b24sCiAgICBMaXN0Ym94TGFiZWw6IExpc3Rib3hMYWJlbCwKICAgIExpc3Rib3hPcHRpb246IExpc3Rib3hPcHRpb24sCiAgICBMaXN0Ym94T3B0aW9uczogTGlzdGJveE9wdGlvbnMsCiAgICBSYWRpb0dyb3VwOiBSYWRpb0dyb3VwLAogICAgUmFkaW9Hcm91cERlc2NyaXB0aW9uOiBSYWRpb0dyb3VwRGVzY3JpcHRpb24sCiAgICBSYWRpb0dyb3VwTGFiZWw6IFJhZGlvR3JvdXBMYWJlbCwKICAgIFJhZGlvR3JvdXBPcHRpb246IFJhZGlvR3JvdXBPcHRpb24KICB9Cn07"},{"version":3,"mappings":"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","names":["CreditCardIcon","ChevronDownIcon","TrashIcon","PlusCircleIcon","RefreshIcon","XIcon","XCircleIcon","CheckIcon","ChevronLeftIcon","SelectorIcon","MailIcon","LockClosedIcon","CheckCircleIcon","Disclosure","DisclosureButton","DisclosurePanel","Listbox","ListboxButton","ListboxLabel","ListboxOption","ListboxOptions","RadioGroup","RadioGroupDescription","RadioGroupLabel","RadioGroupOption","moment","ref","numberOfPeopleTimeSlot","id","value","name","tabs","href","current","mounted","user","JSON","parse","localStorage","getItem","axios","get","process","env","VUE_APP_URL_API","then","timeslots","response","data","post","slots","map","start","Date","element","startdate","end","finishdate","starttime","finishtime","slot","slot_id","additionals","description","price","image","language","quantity","fulldays","slot1","filter","it","includes","item","setDate","getDate","otherSlot","dates","disable","weekend","weekdays","unshift","bookeed","disableCalendar","products","fetchOrders","beforeMount","orders","computed","secondStage","$store","state","reservation","setUser","filterOrders","order","searchQuery","sortedOrders","sort","a","b","methods","input","date","format","day","hourFrom","from","slotsFrom","valuesB","reduce","c","valuesA","slotsFree","concat","slotsFreeActive","v","available","valueB","valueA","slotsTaken","slotsTakenInactive","todaySLOTS","todaySorted","ex","setectedSlotEnd","setectedSlotStart","setectedSlotId","emptyDates","guests","emptyGuests","amount","checknumberOfPeople","e","emptySelection","next","book","commit","addAdditionals","additional","additionalAmount","total","add","prev","cur","parseInt","watch","val","oldVal","confirmation","transactionID","cardBrand","lastFour","expire","user_id","product_id","fullday","extras","reservation_id","console","log","catch","error","message","range","addAdditional","success","refresh","$router","go","removeOrder","orderID","index","delete","splice","facet","EndOfDay","fulldaysFinishSlot","availableHourSlots","selectedTimeSlots","attributes","key","highlight","color","fillMode","setup","selected","components"],"sourceRoot":"","sources":["/Users/work/Documents/projects/paradisopark/src/components/Timeslotreservations.vue"],"sourcesContent":["<template>\n<!--  NAVIGATION ADMIN MENU-->\n\n  <div class=\"max-w-7xl mx-auto top-20 py-24 px-4 sm:py-32 sm:px-6 lg:px-8\">\n    <div class=\"sm:hidden\">\n      <label for=\"tabs\" class=\"sr-only\">Select a tab</label>\n      <!-- Use an \"onChange\" listener to redirect the user to the selected tab URL. -->\n      <select id=\"tabs\" name=\"tabs\" class=\"block w-full focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md\">\n        <option v-for=\"tab in tabs\" :key=\"tab.name\" :selected=\"tab.current\">{{ tab.name }}</option>\n      </select>\n    </div>\n    <div class=\"hidden sm:block\">\n      <div class=\"border-b border-gray-200\">\n        <nav class=\"-mb-px flex\" aria-label=\"Tabs\">\n          <router-link v-for=\"tab in tabs\" :key=\"tab.name\" :to=\"tab.href\" :class=\"[tab.current ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300', 'w-1/4 py-4 px-1 text-center border-b-2 font-medium text-sm']\" :aria-current=\"tab.current ? 'page' : undefined\">\n            {{ tab.name }}\n          </router-link>\n        </nav>\n      </div>\n    </div>\n  </div>\n\n<!--TITLE-->\n  <div class=\"bg-white\">\n    <div class=\"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8\">\n      <div class=\"text-center\">\n        <h2 class=\"text-base font-semibold text-indigo-600 tracking-wide uppercase\">Pricing</h2>\n        <p class=\"mt-1 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl\">handle time slots reservations</p>\n        <p class=\"max-w-xl mt-5 mx-auto text-xl text-gray-500\">Start building for free, then add a site plan to go live. Account plans unlock additional features.</p>\n      </div>\n    </div>\n  </div>\n\n<!--  BOOKING TIME SLOT FOR ADMIN-->\n  <section>\n    <div class=\"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8\">\n      <!--    <h2 class=\"text-center\">Book your wellness moment here easily and quickly</h2>-->\n      <form class=\"mt-8 lg:grid lg:grid-cols-12 lg:gap-x-12 lg:items-start xl:gap-x-16\">\n        <section aria-labelledby=\"cart-heading\" class=\"lg:col-span-7\">\n          <h2 id=\"cart-heading\" class=\"sr-only\">Items in your shopping cart</h2>\n          <div class=\"items-center bg-gray-50 mb-4 p-4\">\n            <!-- SELECT NUMBER OF PEOPLE -->\n            <div>\n              <Listbox as=\"div\" v-model=\"selected\">\n                <ListboxLabel class=\"block text-sm font-medium text-gray-700\"> Number of people </ListboxLabel>\n                <div class=\"mt-1 relative\">\n                  <ListboxButton class=\"bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\">\n                    <span class=\"block truncate\">{{ selected.name }}</span>\n                    <span class=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                            <SelectorIcon class=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                          </span>\n                  </ListboxButton>\n\n                  <transition leave-active-class=\"transition ease-in duration-100\" leave-from-class=\"opacity-100\" leave-to-class=\"opacity-0\">\n                    <ListboxOptions class=\"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\">\n                      <ListboxOption as=\"template\" v-for=\"person in numberOfPeopleTimeSlot\" :key=\"person.id\" :value=\"person\" v-slot=\"{ active, selected }\">\n                        <li :class=\"[active ? 'text-white bg-indigo-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-3 pr-9']\" v-on:click=\"checknumberOfPeople(person.value)\">\n                                <span :class=\"[selected ? 'font-semibold' : 'font-normal', 'block truncate']\">\n                                  {{ person.name }}\n                                </span>\n\n                          <span v-if=\"selected\" :class=\"[active ? 'text-white' : 'text-indigo-600', 'absolute inset-y-0 right-0 flex items-center pr-4']\">\n                                  <CheckIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                                </span>\n                        </li>\n                      </ListboxOption>\n                    </ListboxOptions>\n                  </transition>\n                </div>\n              </Listbox>\n              <small class=\"text-gray-400\">The minimum price start for a group of 6 persons.</small>\n\n              <!-- BTN CONTACT-->\n              <div class=\"mx-auto\">\n                <div class=\"mt-4 flex mx-auto text-center\">\n                  <p class=\"text-center text-sm mt-1\">More than 60 persons?</p>\n                  <div class=\"text-center\">\n                    <router-link to=\"/contact\" class=\"ml-2 inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\n                      <MailIcon class=\"-ml-0.5 mr-2 h-4 w-4\" aria-hidden=\"true\" />\n                      Contact us\n                    </router-link>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n\n          <div v-if=\"this.emptyGuests\" class=\"rounded-md bg-red-50 p-4 mb-4\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0\">\n                <XCircleIcon class=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n              </div>\n              <div class=\"ml-3\">\n                <p class=\"text-sm font-medium text-red-800\">{{ emptyGuests }}</p>\n              </div>\n              <div class=\"ml-auto pl-3\">\n                <div class=\"-mx-1.5 -my-1.5\">\n                  <button type=\"button\" v-on:click=\"this.emptyGuests = ''\" class=\"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-50 focus:ring-red-600\">\n                    <span class=\"sr-only\">Dismiss</span>\n                    <XIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n\n          <div v-if=\"this.emptyDates\" class=\"rounded-md bg-red-50 p-4 mb-4\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0\">\n                <XCircleIcon class=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n              </div>\n              <div class=\"ml-3\">\n                <p class=\"text-sm font-medium text-red-800\">{{ emptyDates }}</p>\n              </div>\n              <div class=\"ml-auto pl-3\">\n                <div class=\"-mx-1.5 -my-1.5\">\n                  <button type=\"button\" v-on:click=\"this.emptyDates = ''\" class=\"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-50 focus:ring-red-600\">\n                    <span class=\"sr-only\">Dismiss</span>\n                    <XIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n\n          <!-- DATE PICKER -->\n          <v-date-picker class=\"mycutomcalendar\"\n                         is-expanded\n                         color=\"green\"\n                         :disabled-dates='disableCalendar'\n                         :min-date='new Date()'\n                         :attributes=\"attributes\"\n                         v-model=\"date\"\n                         @click.stop\n                         mode= 'dateTime'\n                         :valid-hours=\"availableHourSlots\" is24hr\n                         :minute-increment=\"60\"\n                         v-on:click=\"input()\"\n          />\n\n          <!-- TIME SLOT CARDS -->\n          <RadioGroup v-model=\"selectedTimeSlots\">\n            <!-- <RadioGroupLabel class=\"text-base font-medium text-gray-900\"> Select a time slot </RadioGroupLabel> -->\n\n            <div class=\"grid grid-cols-1 gap-y-6 sm:grid-cols-3 sm:gap-x-4 bg-gray-50 mt-4 p-4\">\n              <RadioGroupOption as=\"template\" v-for=\"timeslot in timeslots\" :key=\"timeslot.start\" :value=\"timeslot\" v-slot=\"{ checked, active }\" :disabled=\"timeslot.available == 0\">\n                <div :class=\"[checked ? 'border-green-500' : 'border-gray-300', active ? 'ring-1 ring-green-500' : '', 'relative bg-white border shadow-sm p-4 flex cursor-pointer focus:outline-none']\" v-on:click=\"ex(timeslot.start, timeslot.end, timeslot.slot_id)\">\n                  <div class=\"flex-1 flex\">\n                    <div class=\"flex flex-col items-center justify-center text-center text-base font-medium text-gray-900\">\n                      <RadioGroupLabel as=\"span\" class=\"text-sm font-medium text-gray-900 uppercase\">de</RadioGroupLabel>\n                      <RadioGroupLabel as=\"span\" class=\"text-sm font-medium text-gray-900 uppercase hidden\">{{ timeslot.slot_id }}</RadioGroupLabel>\n                      <RadioGroupDescription as=\"span\" class=\"flex items-center text-sm text-gray-500\">{{ timeslot.start }}:00</RadioGroupDescription>\n                      <RadioGroupDescription as=\"span\" class=\"text-sm font-medium text-gray-900 uppercase\">JUSQU'</RadioGroupDescription>\n                      <RadioGroupDescription as=\"span\" class=\"flex items-center text-sm text-gray-500\">{{ timeslot.end }}:00</RadioGroupDescription>\n                    </div>\n                  </div>\n                  <LockClosedIcon v-if=\"timeslot.available == '0'\" :class=\"[checked ? 'invisible' : '', 'h-5 w-5 text-gray-500 opacity-50']\" aria-hidden=\"true\" />\n                  <PlusCircleIcon v-if=\"timeslot.available == '1'\" :class=\"[checked ? 'invisible' : '', 'h-5 w-5 text-gray-500']\" aria-hidden=\"true\" />\n                  <CheckCircleIcon :class=\"[!checked ? 'invisible' : '', 'h-5 w-5 text-green-500']\" aria-hidden=\"true\" />\n                  <div :class=\"[active ? 'border' : 'border-1', checked ? 'border-green-500' : 'border-transparent', 'absolute -inset-px pointer-events-none']\" aria-hidden=\"true\" />\n                </div>\n              </RadioGroupOption>\n            </div>\n          </RadioGroup>\n\n\n\n          <div v-if=\"addAdditionals\">\n            <!-- Additional elements-->\n            <h1 class=\"text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl mt-10\">Additionals</h1>\n            <form >\n              <section aria-labelledby=\"cart-heading\" class=\"lg:col-span-7\">\n                <h2 id=\"heading\" class=\"sr-only\">Items in your shopping cart</h2>\n\n                <ul role=\"list\" class=\"border-t border-b border-gray-200 divide-y divide-gray-200\">\n                  <li v-for=\"(product, productIdx) in additionals\" :key=\"product.id\" class=\"flex py-3 sm:py-4\" @change=\"additional()\">\n                    <div class=\"flex-shrink-0\">\n                      <img :src=\"product.image\" :alt=\"product.imageAlt\" class=\"w-16 h-16 rounded-md object-center object-cover sm:w-20 sm:h-20\" />\n                    </div>\n\n                    <div class=\"ml-4 flex-1 flex flex-col justify-between sm:ml-6\">\n                      <div class=\"pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0\">\n                        <div>\n                          <div class=\"flex justify-between\">\n                            <h3 class=\"text-sm\">\n                              <a :href=\"product.href\" class=\"font-medium text-gray-700 hover:text-gray-800\">\n                                {{ product.name }}\n                              </a>\n                            </h3>\n                          </div>\n                          <div class=\"mt-1 flex text-sm\">\n                            <p v-if=\"product.description\" class=\"text-gray-500\">\n                              {{ product.description }}\n                            </p>\n                          </div>\n                          <p class=\"mt-1 text-sm font-medium text-gray-900\">{{ product.price / 100 }} </p>\n                        </div>\n\n                        <div class=\"mt-4 sm:mt-0 sm:pr-9 flex flex-col\">\n                          <label :for=\"`quantity-${productIdx}`\" class=\"mt-3 text-sm text-gray-500\">Quantity</label>\n                          <select v-model=\"product.quantity\" :id=\"`quantity-${productIdx}`\" :name=\"`quantity-${productIdx}`\" class=\"max-w-full rounded-md border border-gray-300 py-1.5 text-base leading-5 font-medium text-gray-700 text-left shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\">\n                            <option  value=\"0\">0</option>\n                            <option v-for=\"index in 60\" :key=\"index\" :value=\"index\">{{index}}</option>\n                          </select>\n                        </div>\n                      </div>\n\n                    </div>\n                  </li>\n                </ul>\n              </section>\n            </form>\n          </div>\n\n\n\n\n\n\n        </section>\n        <!-- Order summary -->\n        <section aria-labelledby=\"summary-heading\" class=\"mt-16 bg-gray-50 px-4 py-6 sm:p-6 lg:p-8 lg:mt-0 lg:col-span-5\">\n          <h2 id=\"summary-heading\" class=\"text-lg font-medium text-gray-900\">Order summary</h2>\n\n          <dl class=\"mt-6 space-y-4\">\n            <div class=\"flex items-center justify-between\">\n              <dt class=\"text-sm text-gray-600\">Guests</dt>\n              <dd class=\"text-sm font-medium text-gray-900\">{{ guests }}</dd>\n            </div>\n            <div v-if=\"date\" class=\"border-t border-gray-200 pt-4 flex items-center justify-between\">\n              <dt class=\"flex text-sm text-gray-600\">\n                <span>Date</span>\n              </dt>\n              <dd class=\"text-sm font-medium text-gray-900\">{{ moment(date).format('DD-MM-YYYY') }}</dd>\n            </div>\n            <div v-if=\"secondStage\" class=\"border-t border-gray-200 pt-4 flex items-center justify-between\">\n              <dt class=\"flex text-sm text-gray-600\">\n                <span>Total room</span>\n              </dt>\n              <dd class=\"text-sm font-medium text-gray-900\">{{ secondStage.amount / 100 }} </dd>\n            </div>\n            <div v-if=\"additionalAmount\" class=\"border-t border-gray-200 pt-4 flex items-center justify-between\" >\n              <dt class=\"flex items-center text-sm text-gray-600\">\n                <span>Total additional</span>\n              </dt>\n              <dd class=\"text-sm font-medium text-gray-900\" :id=\"additionalAmount\" >{{ additionalAmount / 100 }} \n                <input v-model=\"additionalAmount\" class=\"hidden\">\n              </dd>\n            </div>\n            <div class=\"border-t border-gray-200 pt-4 flex items-center justify-between\">\n              <dt class=\"text-base font-medium text-gray-900\">Order total</dt>\n              <dd class=\"text-base font-medium text-gray-900\">{{ amount / 100 }} </dd>\n            </div>\n          </dl>\n\n          <div class=\"mt-6\">\n            <button v-if=\"addAdditionals == '' \" v-on:click=\"next( date, amount, guests)\" type=\"button\" class=\"w-full bg-indigo-600 border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500\">Next</button>\n            <button v-else v-on:click=\"confirmation()\" type=\"button\" class=\"mt-4 w-full bg-red-600 border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-red-500\">Confirm</button>\n          </div>\n\n\n          <div v-if=\"this.emptySelection\" class=\"mt-4 rounded-md bg-red-50 p-4 mb-4\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0\">\n                <XCircleIcon class=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n              </div>\n              <div class=\"ml-3\">\n                <p class=\"text-sm font-medium text-red-800\">{{ emptySelection }}</p>\n              </div>\n              <div class=\"ml-auto pl-3\">\n                <div class=\"-mx-1.5 -my-1.5\">\n                  <button type=\"button\" v-on:click=\"this.emptySelection = ''\" class=\"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-50 focus:ring-red-600\">\n                    <span class=\"sr-only\">Dismiss</span>\n                    <XIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!--ERROR sending data to DB-->\n          <div v-if=\"this.error\" class=\"mt-4 rounded-md bg-red-50 p-4 mb-4\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0\">\n                <CheckIcon class=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n              </div>\n              <div class=\"ml-3\">\n                <p class=\"text-sm font-medium text-red-800\">{{ error }}</p>\n              </div>\n              <div class=\"ml-auto pl-3\">\n                <div class=\"-mx-1.5 -my-1.5\">\n                  <button type=\"button\" v-on:click=\"this.error = ''\" class=\"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-50 focus:ring-red-600\">\n                    <span class=\"sr-only\">Dismiss</span>\n                    <XIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!--Success sending data to DB-->\n          <div v-if=\"this.success\" class=\"mt-4 rounded-md bg-green-50 p-4 mb-4\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0\">\n                <XCircleIcon class=\"h-5 w-5 text-green-400\" aria-hidden=\"true\" />\n              </div>\n              <div class=\"ml-3\">\n                <p class=\"text-sm font-medium text-green-800\">{{ success }}</p>\n              </div>\n              <div class=\"ml-auto pl-3\">\n                <div class=\"-mx-1.5 -my-1.5\">\n                  <button type=\"button\" v-on:click=\"this.success = ''\" class=\"inline-flex bg-green-50 rounded-md p-1.5 text-green-500 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-green-50 focus:ring-green-600\">\n                    <span class=\"sr-only\">Dismiss</span>\n                    <XIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </section>\n      </form>\n    </div>\n  </section>\n\n\n<!--MANAGE TIMESLOT RESERVATION FOR ADMIN-->\n  <div class=\"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8\">\n    <div class=\"flex flex-col mt-10\" style=\"max-height: 200Vh\">\n      <h1 class=\"mt-10 font-bold text-3xl px-4\" id=\"order\">Commandes actives</h1>\n      <button type=\"button\" @click=\"refresh()\"  class=\"my-2 mx-4 inline-flex items-center px-2 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\n        <RefreshIcon class=\"h-4 w-4 mr-2\" aria-hidden=\"true\" />\n        <span>Refresh orders</span>\n      </button>\n\n      <!--  start search box-->\n\n      <div class=\"px-4\">\n        <label for=\"first-name\" class=\"mt-5 block text-sm font-medium text-gray-700\">\n          Recherche par identifiant de commande\n        </label>\n        <input type=\"search\" v-model=\"searchQuery\" name=\"first-name\" id=\"first-name\" class=\"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" placeholder=\"Enter a search here!\" />\n      </div>\n\n      <div>\n        <p class=\"mb-2 text-right\" v-if=\"searchQuery && filterOrders.length > 1 \">{{filterOrders.length}} results</p>\n        <div v-if=\"!searchQuery\"></div>\n\n        <div v-else class=\"border-2 border-red-600 mt-2 overflow-hidden\">\n          <div v-for=\"order in filterOrders\" :key=\"order.id\" class=\"py-3 border-b-4 border-indigo-600 mb-2\" >\n            <div class=\"bg-white py-3 border-t border-b border-gray-200 shadow-sm sm:border\">\n              <div class=\"py-6 px-4 sm:px-6 lg:grid lg:grid-cols-12 lg:gap-x-8 lg:p-8\">\n                <div class=\"sm:flex lg:col-span-7 border-b \">\n\n                  <div class=\"mt-6 sm:mt-0 sm:ml-6\">\n                    <h1 class=\"text-base font-xlarge text-gray-900\">\n                      Commande n {{ order.id }}\n                    </h1>\n                  </div>\n                </div>\n\n\n                <div class=\"sm:flex lg:col-span-7 mt-5\">\n                  <dl class=\"grid grid-cols-2 gap-x-6 text-sm\">\n                    <div>\n                      <dt class=\"font-medium text-gray-900\">Date:</dt>\n                      <dd class=\"text-gray-500\">\n                        <span class=\"block\">{{order.startdate}}</span>\n                      </dd>\n                      <dt class=\"font-medium text-gray-900 mt-3\">Start time:</dt>\n                      <dd class=\"text-gray-500\">\n                        <span class=\"block\">{{order.starttime}}.00 </span>\n                      </dd>\n                    </div>\n                    <div>\n                      <dt class=\"font-medium text-gray-900\">N of Guests:</dt>\n                      <dd class=\"text-gray-500 space-y-3\">\n                        <p>\n                          {{ order.guests }}\n                        </p>\n                      </dd>\n                      <dt class=\"mt-3 font-medium text-gray-900\">Finish time:</dt>\n                      <dd class=\"text-gray-500 space-y-3\">\n                        <p>\n                          {{order.finishtime}}.00\n                        </p>\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n\n                <div class=\"mt-6 lg:mt-0 lg:col-span-5 lg:mt-5\">\n                  <dl class=\"grid grid-cols-2 gap-x-6 text-sm\">\n                    <div>\n                      <dt class=\"font-medium text-gray-900\">Additionals:</dt>\n                      <dd v-for=\"extra in order.extras\" v-bind:key=\"extra.id\" class=\"text-gray-500\">\n                        <span class=\"block\">{{extra.name}}: {{extra.quantity}}</span>\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"bg-gray-100 py-6 px-4 sm:px-6 lg:px-8 lg:py-8 lg:grid lg:grid-cols-12 lg:gap-x-8\">\n              <dl class=\"grid grid-cols-2 gap-6 text-sm sm:grid-cols-2 md:gap-x-8 lg:col-span-7\">\n                <div v-if=\"order.user\">\n                  <dt class=\"font-medium text-gray-900\">User account:</dt>\n                  <dd class=\"mt-3 text-gray-500\">\n                    <span class=\"block\">{{order.user.name}}</span>\n                    <span class=\"block\">{{order.user.email}}</span>\n                  </dd>\n                </div>\n                <div v-else>\n                  <dt class=\"font-medium text-gray-900\">User account:</dt>\n                  <dd class=\"mt-3 text-gray-500\">\n                    <span class=\"block\">this user has been deleted</span>\n                  </dd>\n                </div>\n                <div>\n                  <dt class=\"font-medium text-gray-900\">Informations de paiement:</dt>\n                  <div class=\"mt-3\">\n                    <dd class=\"-ml-4 -mt-4 flex flex-wrap\">\n\n                      <div class=\"ml-4 mt-4\">\n                        <p class=\"text-gray-500\">\n                          <CreditCardIcon class=\"h-6 w-6\"></CreditCardIcon>\n                        </p>\n                        <p class=\"text-gray-500\">\n                          Brand:  <span class=\"uppercase\">{{ order.cardBrand }}</span>\n                        </p>\n                        <p class=\"text-gray-500\">\n                          Termine par: {{ order.lastFour }}\n                        </p>\n                        <p class=\"text-gray-500\">\n                          Expire: {{order.expire}}\n                        </p>\n                      </div>\n                    </dd>\n                  </div>\n                </div>\n              </dl>\n\n              <dl class=\"mt-8 divide-y divide-gray-200 text-sm lg:mt-0 lg:col-span-5\">\n                <div class=\"pt-4 flex items-center justify-between\">\n                  <dt class=\"font-medium text-gray-900\">ID transaction:</dt>\n                  <dd class=\"font-medium text-indigo-600\">{{ order.transactionID }}</dd>\n                </div>\n                <div class=\"pt-4 flex items-center justify-between\">\n                  <dt class=\"font-medium text-gray-900\">Total de la commande</dt>\n                  <dd class=\"font-medium text-indigo-600\"> {{order.amount/100}}</dd>\n                </div>\n                <div class=\"sm:flex p-2 text-right mt-2\">\n                  <div class=\"ml-2  md:mt-0 lg:mt-0 text-right\">\n                    <button type=\"button\" @click=\"removeOrder(order.id, index)\" class=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 text-right\">\n                      <TrashIcon class=\"h-4 w-4\" aria-hidden=\"true\" />\n                    </button>\n                  </div>\n                </div>\n              </dl>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n      <!--  end search box-->\n\n      <div class=\"-my-2 overflow-x-auto lg:-mx-8 mt-5\">\n        <div class=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\n          <div class=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\n            <main class=\"mx-auto\">\n              <div class=\"bg-gray-50\">\n                <div class=\"max-w-7xl mx-auto pb-12 px-4 sm:pb-16 sm:px-6 lg:px-8\">\n                  <div class=\"mx-auto divide-y-2 divide-gray-200\">\n                    <dl class=\"mt-6 space-y-6 divide-y divide-gray-200\">\n                      <Disclosure as=\"div\" v-for=\"order in sortedOrders\" :key=\"order.id\" class=\"pt-6\" v-slot=\"{ open }\">\n                        <dt class=\"text-lg\">\n                          <DisclosureButton class=\"text-left w-full flex justify-between items-start text-gray-400\">\n                            <p class=\"text-sm font-medium text-indigo-600 truncate\">\n                              <span class=\"text-black\">Reference order:</span> n {{order.id}}\n                            </p>\n                            <p class=\"text-sm font-medium text-indigo-600 truncate\">\n                              <span class=\"text-black\">Date: </span>{{moment(order.startdate).format('DD-MM-YYYY')}}\n                            </p>\n                            <span class=\"ml-6 h-7 flex items-center\">\n                              <ChevronDownIcon :class=\"[open ? '-rotate-180' : 'rotate-0', 'h-6 w-6 transform']\" aria-hidden=\"true\" />\n                            </span>\n                          </DisclosureButton>\n                        </dt>\n                        <DisclosurePanel as=\"dd\" class=\"mt-2\">\n                          <div class=\"py-3 border-b-4 border-indigo-600 \" >\n                            <div class=\"bg-white py-3 border-t border-b border-gray-200 shadow-sm sm:border\">\n                              <div class=\"py-6 px-4 sm:px-6 lg:grid lg:grid-cols-12 lg:gap-x-8 lg:p-8\">\n                                <div class=\"sm:flex lg:col-span-7 border-b \">\n                                  <div class=\"mt-6 sm:mt-0 sm:ml-6\">\n                                    <h1 class=\"text-base font-xlarge text-gray-900\">\n                                      Rfrence de l'achat n {{ order.id }}\n                                    </h1>\n                                  </div>\n                                </div>\n                                <div class=\"sm:flex lg:col-span-7 mt-5\">\n                                  <dl class=\"grid grid-cols-2 gap-x-6 text-sm\">\n                                    <div>\n                                      <dt class=\"font-medium text-gray-900\">Date:</dt>\n                                      <dd class=\"text-gray-500\">\n                                        <span class=\"block\">{{order.startdate}}</span>\n                                      </dd>\n                                      <dt class=\"font-medium text-gray-900 mt-3\">Start time:</dt>\n                                      <dd class=\"text-gray-500\">\n                                        <span class=\"block\">{{order.starttime}}.00 </span>\n                                      </dd>\n                                    </div>\n                                    <div>\n                                      <dt class=\"font-medium text-gray-900\">N of Guests:</dt>\n                                      <dd class=\"text-gray-500 space-y-3\">\n                                        <p>\n                                          {{ order.guests }}\n                                        </p>\n                                      </dd>\n                                      <dt class=\"mt-3 font-medium text-gray-900\">Finish time:</dt>\n                                      <dd class=\"text-gray-500 space-y-3\">\n                                        <p>\n                                          {{order.finishtime}}.00\n                                        </p>\n                                      </dd>\n                                    </div>\n                                  </dl>\n                                </div>\n\n                                <div class=\"mt-6 lg:mt-0 lg:col-span-5 lg:mt-5\">\n                                  <dl class=\"grid grid-cols-2 gap-x-6 text-sm\">\n                                    <div>\n                                      <dt class=\"font-medium text-gray-900\">Additionals:</dt>\n                                      <dd v-for=\"extra in order.extras\" v-bind:key=\"extra.id\" class=\"text-gray-500\">\n                                        <span class=\"block\">{{extra.name}}: {{extra.quantity}}</span>\n                                      </dd>\n                                    </div>\n                                  </dl>\n                                </div>\n                              </div>\n                            </div>\n\n                            <div class=\"bg-gray-100 py-6 px-4 sm:px-6 lg:px-8 lg:py-8 lg:grid lg:grid-cols-12 lg:gap-x-8\">\n                              <dl class=\"grid grid-cols-2 gap-6 text-sm sm:grid-cols-2 md:gap-x-8 lg:col-span-7\">\n                                <div v-if=\"order.user\">\n                                  <dt class=\"font-medium text-gray-900\">User account:</dt>\n                                  <dd class=\"mt-3 text-gray-500\">\n                                    <span class=\"block\">{{order.user.name}}</span>\n                                    <span class=\"block\">{{order.user.email}}</span>\n                                  </dd>\n                                </div>\n                                <div v-else>\n                                  <dt class=\"font-medium text-gray-900\">User account:</dt>\n                                  <dd class=\"mt-3 text-gray-500\">\n                                    <span class=\"block\">This user has been deleted</span>\n                                  </dd>\n                                </div>\n                                <div>\n                                  <dt class=\"font-medium text-gray-900\">Payment information:</dt>\n                                  <div class=\"mt-3\">\n                                    <dd class=\"-ml-4 -mt-4 flex flex-wrap\">\n\n                                      <div class=\"ml-4 mt-4\">\n                                        <p class=\"text-gray-500\">\n                                          <CreditCardIcon class=\"h-6 w-6\"></CreditCardIcon>\n                                        </p>\n                                        <p class=\"text-gray-500\">\n                                          Brand:  <span class=\"uppercase\">{{ order.cardBrand }}</span>\n                                        </p>\n                                        <p class=\"text-gray-500\">\n                                          Termine par: {{ order.lastFour }}\n                                        </p>\n                                        <p class=\"text-gray-500\">\n                                          Expire: {{order.expire}}\n                                        </p>\n                                      </div>\n                                    </dd>\n                                  </div>\n                                </div>\n                              </dl>\n\n                              <dl class=\"mt-8 divide-y divide-gray-200 text-sm lg:mt-0 lg:col-span-5\">\n                                <div class=\"pt-4 flex items-center justify-between\">\n                                  <dt class=\"font-medium text-gray-900\">ID trans:</dt>\n                                  <dd class=\"font-medium text-indigo-600\">{{ order.transactionID }}</dd>\n                                </div>\n                                <div class=\"pt-4 flex items-center justify-between\">\n                                  <dt class=\"font-medium text-gray-900\">Total de la commande :</dt>\n                                  <dd class=\"font-medium text-indigo-600\"> {{order.amount/100}}</dd>\n                                </div>\n                                <div class=\"sm:flex p-2 text-right mt-2\">\n                                  <div class=\"ml-2  md:mt-0 lg:mt-0 text-right\">\n                                    <button type=\"button\" @click=\"removeOrder(order.id, index)\" class=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 text-right\">\n                                      <TrashIcon class=\"h-4 w-4\" aria-hidden=\"true\" />\n                                    </button>\n                                  </div>\n                                </div>\n                              </dl>\n                            </div>\n                          </div>\n                        </DisclosurePanel>\n                      </Disclosure>\n                    </dl>\n                  </div>\n                </div>\n              </div>\n            </main>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n\n\n</template>\n\n<script>\nimport { CreditCardIcon, ChevronDownIcon, TrashIcon, PlusCircleIcon, RefreshIcon } from '@heroicons/vue/outline'\nimport {\n  XIcon,\n  XCircleIcon,\n  CheckIcon,\n  ChevronLeftIcon,\n  SelectorIcon,\n  MailIcon,\n  LockClosedIcon,\n  CheckCircleIcon,\n} from '@heroicons/vue/solid'\nimport {\n  Disclosure,\n  DisclosureButton,\n  DisclosurePanel,\n  Listbox,\n  ListboxButton,\n  ListboxLabel,\n  ListboxOption,\n  ListboxOptions,\n  RadioGroup,\n  RadioGroupDescription,\n  RadioGroupLabel,\n  RadioGroupOption } from '@headlessui/vue'\nimport moment from 'moment'\nimport 'v-calendar/dist/style.css';\nimport { ref } from 'vue'\n\n\nconst numberOfPeopleTimeSlot = [\n  { id: 1,  value: 0, name: 'Make your choise' },\n  { id: 2,  value: 1, name: '1' },\n  { id: 3,  value: 2, name: '2' },\n  { id: 4,  value: 3, name: '3' },\n  { id: 5,  value: 4, name: '4' },\n  { id: 6,  value: 5, name: '5' },\n  { id: 7,  value: 6, name: '6' },\n  { id: 8,  value: 7, name: '7' },\n  { id: 9,  value: 8, name: '8' },\n  { id: 10, value: 9, name: '9' },\n  { id: 11, value: 10, name: '10' },\n  { id: 12, value: 11, name: '11' },\n  { id: 13, value: 12, name: '12' },\n  { id: 14, value: 13, name: '13' },\n  { id: 15, value: 14, name: '14' },\n  { id: 16, value: 15, name: '15' },\n  { id: 17, value: 16, name: '16' },\n  { id: 18, value: 17, name: '17' },\n  { id: 19, value: 18, name: '18' },\n  { id: 20, value: 19, name: '19' },\n  { id: 21, value: 20, name: '20' },\n  { id: 22, value: 21, name: '21' },\n  { id: 23, value: 22, name: '22' },\n  { id: 24, value: 23, name: '23' },\n  { id: 25, value: 24, name: '24' },\n  { id: 26, value: 25, name: '25' },\n  { id: 27, value: 26, name: '26' },\n  { id: 28, value: 27, name: '27' },\n  { id: 29, value: 28, name: '28' },\n  { id: 30, value: 29, name: '29' },\n  { id: 31, value: 30, name: '30' },\n  { id: 32, value: 31, name: '31' },\n  { id: 33, value: 32, name: '32' },\n  { id: 34, value: 33, name: '33' },\n  { id: 35, value: 34, name: '34' },\n  { id: 36, value: 35, name: '35' },\n  { id: 37, value: 36, name: '36' },\n  { id: 38, value: 37, name: '37' },\n  { id: 39, value: 38, name: '38' },\n  { id: 40, value: 39, name: '39' },\n  { id: 41, value: 40, name: '40' },\n  { id: 42, value: 41, name: '41' },\n  { id: 43, value: 42, name: '42' },\n  { id: 44, value: 43, name: '43' },\n  { id: 45, value: 44, name: '44' },\n  { id: 46, value: 45, name: '45' },\n  { id: 47, value: 46, name: '46' },\n  { id: 48, value: 47, name: '47' },\n  { id: 49, value: 48, name: '48' },\n  { id: 50, value: 49, name: '49' },\n  { id: 51, value: 50, name: '50' },\n  { id: 52, value: 51, name: '51' },\n  { id: 53, value: 52, name: '52' },\n  { id: 54, value: 53, name: '53' },\n  { id: 55, value: 54, name: '54' },\n  { id: 56, value: 55, name: '55' },\n  { id: 57, value: 56, name: '56' },\n  { id: 58, value: 57, name: '57' },\n  { id: 59, value: 58, name: '58' },\n  { id: 60, value: 59, name: '59' },\n  { id: 61, value: 60, name: '60' },\n]\n\n\nconst tabs = [\n  { name: 'My Account', href: '/dashboard', current: false },\n  { name: 'Timeslot reservations', href: '/timeslotreservations', current: true },\n  { name: 'Full day reservations', href: '/fulldayreservations', current: false },\n  { name: 'Price & date options', href: '/pricedateoptions', current: false },\n  { name: 'Additional options', href: '/additionaloptions', current: false },\n]\n\nexport default {\n\n  mounted() {\n\n    this.user = JSON.parse(localStorage.getItem('bigStore.user'))\n    // this.axios.post(process.env.VUE_APP_URL_API + \"api/slots\")\n    //     .then(response => {\n    //       this.orders = response.data\n    //     })\n\n    this.axios.get(process.env.VUE_APP_URL_API + \"api/timeslots\")\n        .then(response => {\n          this.timeslots = response.data\n        })\n\n    this.axios.post(process.env.VUE_APP_URL_API + \"api/slots\")\n        .then(response => {\n          let slots = response.data\n          this.slots = slots.map(element=>{\n            return { start: new Date(element.startdate), end: new Date(element.finishdate), starttime: element.starttime, finishtime: element.finishtime, slot: element.slot_id }\n          })\n        })\n\n    this.axios.get(process.env.VUE_APP_URL_API + \"api/additionals\")\n        .then(response => {\n          let additionals = response.data\n          this.additionals = additionals.map(element=>{\n            return {id:element.id, name: element.name, description: element.description, price:element.price, image:element.image, language:element.language, quantity: 0 }\n          })\n        })\n\n\n    this.axios.post(process.env.VUE_APP_URL_API + \"api/fulldays\")\n        .then(response => {\n          let fulldays = response.data\n          this.fulldays = fulldays.map(element=>{\n            return { start: new Date(element.startdate), end: new Date(element.finishdate), starttime: element.starttime, finishtime: element.finishtime, slot: element.slot_id }\n          })\n          // Filter all the fulldays where the reservation takes only the first slot of the checkout day\n          let slot1 = this.fulldays.filter(it => it.slot.includes(1));\n          slot1.map(function(item){\n            let end =  new Date(item.end)\n            end.setDate(end.getDate() - 1)\n            item.end = end\n            return item;\n          })\n          // Filter all the fulldays where the the reservtion take more than first slot ( late checkout )\n          let otherSlot = this.fulldays.filter(it => it.slot  != 1);\n          // merge de result in order to correctly populate the calendar daily based ( if standard checkout book only the first slot - else book the full day )\n          let dates = [...slot1, ...otherSlot]\n          this.dates = dates\n          let disable =  [\n            dates\n          ]\n          // Block the weekend days coz on timeslot we cannot get access to them\n          let weekend = {weekdays: [6, 7,]}\n          disable[0].unshift(weekend);\n          let bookeed =  [\n            disable[0]\n          ]\n          this.disableCalendar = bookeed[0]\n        })\n\n\n    this.axios.get(process.env.VUE_APP_URL_API + \"api/products \")\n        .then(response => {\n          this.products = response.data\n        })\n\n    this.fetchOrders();\n  },\n\n  /*eslint-disable */\n  beforeMount(){\n\n    this.axios.post(process.env.VUE_APP_URL_API + 'api/slots')\n        .then(response =>\n            this.orders = response.data\n        )\n  },\n\n  computed: {\n\n    secondStage:{\n      get(){\n        return this.$store.state.reservation\n      },\n\n      setUser:{\n        get(){\n          return this.$store.state.setUser\n        }\n      },\n    },\n\n    filterOrders(){\n      return this.orders.filter(order => order.id == this.searchQuery)\n    },\n\n    sortedOrders: function() {\n      this.orders.sort( ( a, b) => {\n        return new Date(b.id) - new Date(a.id);\n      });\n      return this.orders;\n    }\n  },\n\n  methods: {\n\n    input(){\n      let date = moment(this.date).format('YYYY-M-DD')\n      this.axios.get(process.env.VUE_APP_URL_API + \"api/timeslots\")\n          .then(response => {\n            this.timeslots = response.data\n          })\n      // get all the reservations for the chosen day by the finishdate ( In timeslot finish date & start date are the same - taking the finish date & time we can understand where finish the fullday reservation too )  )\n      this.axios.post(process.env.VUE_APP_URL_API + 'api/slotdisponibilityEnd ', {date}).then(response => {\n        this.day = response.data\n\n        //take slot booked slots form reservation table\n        let hourFrom = this.day.map(a=>{ return { start:a.starttime, end:a.finishtime, slot_id:a.slot_id}})\n\n        //2 - order hours min to max\n        const from = hourFrom.sort(function(a, b) {\n          return a.start - b.start;\n        })\n\n        //taking all the timeslot how set by admin in admin pabel\n        let slotsFrom = this.timeslots.map(a => { return { start:a.start, end:a.end, slot_id:a.id}})\n\n        //difference to understand available timeslot in array - free slots\n        let valuesB = from.reduce(function(a,c){a[c.start] = c.start; return a; }, {});\n        let valuesA = slotsFrom.reduce(function(a,c){a[c.start] = c.start; return a; }, {});\n        let slotsFree = slotsFrom.filter(function(c){ return !valuesB[c.start]}).concat(from.filter(function(c){ return !valuesA[c.start]}));\n\n        //adding available key set to 1 to recognise on css free slots\n        const slotsFreeActive = slotsFree.map(v => ({...v, available:1}))\n\n        // difference to understand booked timeslot in array -  booked slots\n        let valueB = from.reduce(function(a,c){a[c.start] = c.start; return a; }, {});\n        let valueA = slotsFrom.reduce(function(a,c){a[c.start] = c.start; return a; }, {});\n        let slotsTaken = slotsFrom.filter(function(c){ return valueB[c.start]}).concat(from.filter(function(c){ return !valueA[c.start]}));\n\n        //adding available key set to o to recognise on css booked slots\n        const slotsTakenInactive = slotsTaken.map(v => ({...v, available:0}))\n\n        // Mergin 2 result\n        let todaySLOTS = [...slotsFreeActive, ...slotsTakenInactive]\n\n        // Sort by min to max hour start slots\n        let todaySorted = todaySLOTS.sort(function(a, b) {\n          return a.start - b.start;\n        })\n\n        this.timeslots = todaySorted\n\n      })\n    },\n\n    ex (start, end, id){\n\n      this.setectedSlotEnd = end\n      this.setectedSlotStart = start\n      this.setectedSlotId = id\n\n      if(this.date == '') {\n        this.emptyDates = 'Please select a valid range of days'\n      } else {\n        if(this.guests ==''){\n          this.emptyGuests = 'Please select number of guests'\n          this.date = ''\n        } else {\n          this.amount = this.products[0]['price'] * this.guests\n        }\n      }\n    },\n\n    checknumberOfPeople(e){\n      this.emptySelection = ''\n      this.emptyGuests = ''\n      this.emptyDates = ''\n      this.guests = ''\n      this.amount = ''\n      this.guests = e\n    },\n\n    next( date, amount, guests ){\n      if(this.amount == ''){\n        this.emptySelection = 'Please fill all the field necessary to complete your reservation '\n      } else {\n\n        const book =\n            {\n              date: date,\n              amount: amount,\n              guests: guests,\n              slot:this.setectedSlotId,\n              start: this.setectedSlotStart,\n              end: this.setectedSlotEnd,\n            }\n\n        this.$store.commit('setReservation', (book))\n        this.addAdditionals = 1\n      }\n    },\n\n    additional(){\n      // console.log(this.additionals)\n      let additionalAmount  = this.additionals.map(element => {\n        return{id:element.id, name:element.name, description:element.description, price:element.price, quantity: element.quantity, total:(element.price* element.quantity)}\n      });\n\n      this.add = additionalAmount\n\n\n      let total = additionalAmount.reduce(function(prev, cur) {\n        return prev + cur.total;\n      }, 0);\n\n      this.additionalAmount = total\n      this.amount = parseInt(this.additionalAmount) + parseInt(this.secondStage.amount)\n    },\n\n    watch: {\n      'additionalAmount': function(val, oldVal){\n        if (val != '') {\n          const amount = this.amount\n          this.amount= (amount - oldVal + val);\n        }else{\n          const amount = this.amount\n          this.amount= (amount - oldVal + val);\n        }\n      }\n    },\n\n    confirmation(){\n      let language = 'FR'\n      let transactionID = 'admin reservation'\n      let cardBrand = 'no card required'\n      let lastFour = 'admin account'\n      let expire = 'no expire date'\n      let user_id = this.user.id\n      let product_id = '1'\n      let startdate = moment(this.secondStage.date).format('YYYY-M-DD')\n      let finishdate = moment(this.secondStage.date).format('YYYY-M-DD')\n      let starttime = this.secondStage.start\n      let finishtime = this.secondStage.end\n      let slot_id = this.secondStage.slot\n      let fullday = '0'\n      let guests = this.secondStage.guests\n      let amount = parseInt(this.amount)\n\n      this.axios.post(process.env.VUE_APP_URL_API + 'api/adminreservation',\n          {\n            user_id,\n            product_id,\n            startdate,\n            finishdate,\n            starttime,\n            finishtime,\n            slot_id,\n            fullday,\n            guests,\n            transactionID,\n            cardBrand,\n            lastFour,\n            expire,\n            amount,\n            language\n          })\n          .then((response) => {\n            let extras = this.add.map(element => this.axios.post(process.env.VUE_APP_URL_API + 'api/extras',{reservation_id: response.data.id, name: element.name, price:element.price, quantity:element.quantity  }))\n            console.log(extras)\n\n          })\n          .catch((error) => {\n            this.error = error.response.data.message;\n          });\n\n          if(this.error != ''){\n\n            this.additionalAmount = ''\n            this.range = ''\n            this.guests = ''\n            this.addAdditional = ''\n            this.amount = ''\n            this.success = 'Successfully book'\n            this.$store.commit('clearReservation')\n            this.$store.commit('clearAdditionals')\n            this.$store.commit('cleartotalAmount')\n            this.$store.commit('clearlateCheckout')\n\n            this.error = 'Something goes wrong please try again'\n\n          } else {\n            this.additionalAmount = ''\n            this.date = ''\n            this.guests = ''\n            this.addAdditionals = ''\n            this.amount = ''\n            this.success = 'Successfully book'\n            this.$store.commit('clearReservation')\n            this.$store.commit('clearAdditionals')\n            this.$store.commit('cleartotalAmount')\n            this.$store.commit('clearlateCheckout')\n          }\n    },\n\n    refresh(){\n      this.$router.go()\n    },\n\n    fetchOrders(){\n      this.axios.post(process.env.VUE_APP_URL_API + 'api/slots')\n          .then(response =>\n              this.orders = response.data\n          )\n    },\n\n    removeOrder(orderID, index) {\n      this.axios.delete(process.env.VUE_APP_URL_API + \"api/reservations/\" + orderID)\n          .then(response => {\n            this.orders.splice(index, 1)\n          })\n\n          .catch(error => {\n            console.log(error);\n          })\n    },\n  },\n\n\n  data(){\n    return{\n      orders : [],\n      facet: [],\n      searchQuery: null,\n\n      add:'',\n      additionals:'',\n      additionalAmount:'',\n\n      user:'',\n\n\n      addAdditionals:'',\n\n      error:'',\n      success:'',\n\n      setectedSlotId:'',\n      setectedSlotStart:'',\n      setectedSlotEnd:'',\n      emptySelection:'',\n      emptyGuests:'',\n      emptyDates:'',\n      EndOfDay:'',\n      fulldaysFinishSlot:[],\n      slots:'',\n      fulldays:'',\n      day:'',\n      availableHourSlots:[],\n      products:'',\n      amount:'',\n      guests:'',\n      disableCalendar:'',\n      selectedTimeSlots:'',\n      timeslots:'',\n      date:'',\n      attributes: [\n        {\n          key: 'today',\n          highlight: {\n            color: 'blue',\n            fillMode: 'solid',\n          },\n          dates: new Date(),\n        },\n      ],\n    }\n  },\n\n\n  setup() {\n    const selected = ref(numberOfPeopleTimeSlot[0])\n    return {\n      numberOfPeopleTimeSlot,\n      selected,\n      tabs,\n      moment\n    }\n  },\n\n  components: {\n    RefreshIcon,\n    CreditCardIcon,\n    ChevronDownIcon,\n    Disclosure,\n    DisclosureButton,\n    DisclosurePanel,\n    TrashIcon,\n    XIcon,\n    XCircleIcon,\n    CheckIcon,\n    ChevronLeftIcon,\n    SelectorIcon,\n    MailIcon,\n    LockClosedIcon,\n    CheckCircleIcon,\n    PlusCircleIcon,\n    Listbox,\n    ListboxButton,\n    ListboxLabel,\n    ListboxOption,\n    ListboxOptions,\n    RadioGroup,\n    RadioGroupDescription,\n    RadioGroupLabel,\n    RadioGroupOption,\n  },\n}\n</script>\n"]}]}