{"remainingRequest":"/Users/work/Documents/projects/paradisopark/node_modules/babel-loader/lib/index.js!/Users/work/Documents/projects/paradisopark/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/work/Documents/projects/paradisopark/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/work/Documents/projects/paradisopark/src/components/Fulldayreservations.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/work/Documents/projects/paradisopark/src/components/Fulldayreservations.vue","mtime":1650971371931},{"path":"/Users/work/Documents/projects/paradisopark/babel.config.js","mtime":1650971371861},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/cache-loader/dist/cjs.js","mtime":1650971425034},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/babel-loader/lib/index.js","mtime":1650971426511},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/cache-loader/dist/cjs.js","mtime":1650971425034},{"path":"/Users/work/Documents/projects/paradisopark/node_modules/vue-loader-v16/dist/index.js","mtime":1650971426462}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvd29yay9Eb2N1bWVudHMvcHJvamVjdHMvcGFyYWRpc29wYXJrL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IHsgQ3JlZGl0Q2FyZEljb24sIENoZXZyb25Eb3duSWNvbiwgVHJhc2hJY29uLCBSZWZyZXNoSWNvbiB9IGZyb20gJ0BoZXJvaWNvbnMvdnVlL291dGxpbmUnOwppbXBvcnQgeyBEaXNjbG9zdXJlLCBEaXNjbG9zdXJlQnV0dG9uLCBEaXNjbG9zdXJlUGFuZWwsIExpc3Rib3gsIExpc3Rib3hCdXR0b24sIExpc3Rib3hMYWJlbCwgTGlzdGJveE9wdGlvbiwgTGlzdGJveE9wdGlvbnMgfSBmcm9tICdAaGVhZGxlc3N1aS92dWUnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCAndi1jYWxlbmRhci9kaXN0L3N0eWxlLmNzcyc7CmltcG9ydCB7IENoZWNrSWNvbiwgU2VsZWN0b3JJY29uLCBYQ2lyY2xlSWNvbiwgWEljb24gfSBmcm9tICdAaGVyb2ljb25zL3Z1ZS9zb2xpZCc7CnZhciB0YWJzID0gW3sKICBuYW1lOiAnTXkgQWNjb3VudCcsCiAgaHJlZjogJy9kYXNoYm9hcmQnLAogIGN1cnJlbnQ6IGZhbHNlCn0sIHsKICBuYW1lOiAnVGltZXNsb3QgcmVzZXJ2YXRpb25zJywKICBocmVmOiAnL3RpbWVzbG90cmVzZXJ2YXRpb25zJywKICBjdXJyZW50OiBmYWxzZQp9LCB7CiAgbmFtZTogJ0Z1bGwgZGF5IHJlc2VydmF0aW9ucycsCiAgaHJlZjogJy9mdWxsZGF5cmVzZXJ2YXRpb25zJywKICBjdXJyZW50OiB0cnVlCn0sIHsKICBuYW1lOiAnUHJpY2UgJiBkYXRlIG9wdGlvbnMnLAogIGhyZWY6ICcvcHJpY2VkYXRlb3B0aW9ucycsCiAgY3VycmVudDogZmFsc2UKfSwgewogIG5hbWU6ICdBZGRpdGlvbmFsIG9wdGlvbnMnLAogIGhyZWY6ICcvYWRkaXRpb25hbG9wdGlvbnMnLAogIGN1cnJlbnQ6IGZhbHNlCn1dOwp2YXIgZGF0YSA9IHsKICBkaXNhYmxlOiB7fSwKICBhdHRyaWJ1dGVzOiBbewogICAga2V5OiAndG9kYXknLAogICAgaGlnaGxpZ2h0OiB7CiAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgIGZpbGxNb2RlOiAnc29saWQnCiAgICB9LAogICAgZGF0ZXM6IG5ldyBEYXRlKCkKICB9XQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy8gUmVjZWl2aW5nIHNwZWNpYWxkYXlzCiAgICB0aGlzLmF4aW9zLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAiYXBpL3NwY2lhbGRheXMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5zcGVjaWFsZGF5ID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOyAvLyB0aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkxfQVBJICsgImFwaS9mdWxsZGF5cyIpCiAgICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgLy8gICAgICAgdGhpcy5vcmRlcnMgPSByZXNwb25zZS5kYXRhCiAgICAvLyAgICAgfSkKCiAgICB0aGlzLmF4aW9zLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAiYXBpL3RpbWVzbG90cyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnRpbWVzbG90cyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsgLy8gUmVjZWl2aW5nIGFsbCB0aGUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgoKICAgIHRoaXMuYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICJhcGkvYWRkaXRpb25hbHMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgYWRkaXRpb25hbHMgPSByZXNwb25zZS5kYXRhOwogICAgICBfdGhpcy5hZGRpdGlvbmFscyA9IGFkZGl0aW9uYWxzLm1hcChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogZWxlbWVudC5pZCwKICAgICAgICAgIG5hbWU6IGVsZW1lbnQubmFtZSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBlbGVtZW50LmRlc2NyaXB0aW9uLAogICAgICAgICAgcHJpY2U6IGVsZW1lbnQucHJpY2UsCiAgICAgICAgICBpbWFnZTogZWxlbWVudC5pbWFnZSwKICAgICAgICAgIGxhbmd1YWdlOiBlbGVtZW50Lmxhbmd1YWdlLAogICAgICAgICAgcXVhbnRpdHk6IDAKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOyAvLyBSZWNlaXZpbmcgYWxsIHRoZSB0aW1lc2xvdHMgYWxyZWFkeSBib29rZWQgZm9ybWF0dGVkIGZvciBjYWxlbmRhcgoKICAgIHRoaXMuYXhpb3MucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAiYXBpL3Nsb3RzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIHNsb3RzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgX3RoaXMuc2xvdHMgPSBzbG90cy5tYXAoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgc3RhcnQ6IG5ldyBEYXRlKGVsZW1lbnQuc3RhcnRkYXRlKSwKICAgICAgICAgIGVuZDogbmV3IERhdGUoZWxlbWVudC5maW5pc2hkYXRlKSwKICAgICAgICAgIHN0YXJ0dGltZTogZWxlbWVudC5zdGFydHRpbWUsCiAgICAgICAgICBmaW5pc2h0aW1lOiBlbGVtZW50LmZpbmlzaHRpbWUsCiAgICAgICAgICBzbG90OiBlbGVtZW50LnNsb3RfaWQKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOyAvLyBSZWNlaXZpbmcgYWxsIHRoZSBmdWxsZGF5IGFscmVhZHkgYm9va2VkIGZvcm1hdHRlZCBmb3IgY2FsZW5kYXIKCiAgICB0aGlzLmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkxfQVBJICsgImFwaS9mdWxsZGF5cyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBmdWxsZGF5cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIF90aGlzLmZ1bGxkYXlzID0gZnVsbGRheXMubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShlbGVtZW50LnN0YXJ0ZGF0ZSksCiAgICAgICAgICBlbmQ6IG5ldyBEYXRlKGVsZW1lbnQuZmluaXNoZGF0ZSksCiAgICAgICAgICBzdGFydHRpbWU6IGVsZW1lbnQuc3RhcnR0aW1lLAogICAgICAgICAgZmluaXNodGltZTogZWxlbWVudC5maW5pc2h0aW1lLAogICAgICAgICAgc2xvdDogZWxlbWVudC5zbG90X2lkCiAgICAgICAgfTsKICAgICAgfSk7IC8vIEZpbHRlciBhbGwgdGhlIGZ1bGxkYXlzIHdoZXJlIHRoZSByZXNlcnZhdGlvbiB0YWtlcyBvbmx5IHRoZSBmaXJzdCBzbG90IG9mIHRoZSBjaGVja291dCBkYXkKCiAgICAgIHZhciBzbG90MSA9IF90aGlzLmZ1bGxkYXlzLmZpbHRlcihmdW5jdGlvbiAoaXQpIHsKICAgICAgICByZXR1cm4gaXQuc2xvdC5pbmNsdWRlcygxKTsKICAgICAgfSk7CgogICAgICBzbG90MS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgZW5kID0gbmV3IERhdGUoaXRlbS5lbmQpOwogICAgICAgIGVuZC5zZXREYXRlKGVuZC5nZXREYXRlKCkgLSAxKTsKICAgICAgICBpdGVtLmVuZCA9IGVuZDsKICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfSk7IC8vIEZpbHRlciBhbGwgdGhlIGZ1bGxkYXlzIHdoZXJlIHRoZSB0aGUgcmVzZXJ2dGlvbiB0YWtlIG1vcmUgdGhhbiBmaXJzdCBzbG90ICggbGF0ZSBjaGVja291dCApCgogICAgICB2YXIgb3RoZXJTbG90ID0gX3RoaXMuZnVsbGRheXMuZmlsdGVyKGZ1bmN0aW9uIChpdCkgewogICAgICAgIHJldHVybiBpdC5zbG90ICE9IDE7CiAgICAgIH0pOyAvLyBtZXJnZSBkZSByZXN1bHQgaW4gb3JkZXIgdG8gY29ycmVjdGx5IHBvcHVsYXRlIHRoZSBjYWxlbmRhciBkYWlseSBiYXNlZCAoIGlmIHN0YW5kYXJkIGNoZWNrb3V0IHdlIGNhbiBjb25jYXQgYW5vdGhlciBmdWxsZGF5cyByZXNlcnZhdGlvbiAtIGVsc2UgYm9vayB0aGUgZnVsbCBkYXkgKQogICAgICAvLyBzbG90MSA9IHN0YW5kYXJkIGNoZWtvdXQgLCBvdGhlclNsb3QgPSB0YWtlIGFsbCB0aGUgZGF5IGNveiB0aGVyZSBpcyBsYXRlIGNoZWNrb3V0LCB0aGlzLnNsb3RzID0gaWYgdGhlcmUgaXMgYSB0aW1lc2xvdCB0YWtlbiBibG9jayB0aGUgZnVsbGRheQoKCiAgICAgIHZhciBkYXRlcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2xvdDEpLCBfdG9Db25zdW1hYmxlQXJyYXkob3RoZXJTbG90KSwgX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLnNsb3RzKSk7CiAgICAgIF90aGlzLmRhdGVzID0gZGF0ZXM7CiAgICAgIHZhciBkaXNhYmxlID0gW190aGlzLmRhdGVzXTsKICAgICAgX3RoaXMuZGlzYWJsZUNhbGVuZGFyID0gZGlzYWJsZVswXTsKICAgIH0pOyAvLyBST09NUyBEQVRBCgogICAgdGhpcy5heGlvcy5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkxfQVBJICsgImFwaS9wcm9kdWN0cyAiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZmV0Y2hPcmRlcnMoKTsKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuYXhpb3MucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAnYXBpL2Z1bGxkYXlzYWRtaW4nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXR1cm4gX3RoaXMyLm9yZGVycyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsgLy8gUmVjZWl2aW5nIGdyb3VwcwoKICAgIHRoaXMuYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICJhcGkvZ3JvdXBzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMyLm51bWJlck9mUGVvcGxlRnVsbERheSA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsgLy8gUmVjZWl2aW5nIGNoZWNrb3V0cwoKICAgIHRoaXMuYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICJhcGkvY2hlY2tvdXRzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMyLmxhdGVDaGVja291dCA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzZXRVc2VyOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXRVc2VyOwogICAgICB9CiAgICB9LAogICAgc2Vjb25kc3RhZ2U6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJlc2VydmF0aW9uOwogICAgICB9CiAgICB9LAogICAgZmlsdGVyT3JkZXJzOiBmdW5jdGlvbiBmaWx0ZXJPcmRlcnMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMub3JkZXJzLmZpbHRlcihmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICByZXR1cm4gb3JkZXIuaWQgPT0gX3RoaXMzLnNlYXJjaFF1ZXJ5OwogICAgICB9KTsKICAgIH0sCgogICAgLyogZXNsaW50LWRpc2FibGUgKi8KICAgIHNvcnRlZE9yZGVyczogZnVuY3Rpb24gc29ydGVkT3JkZXJzKCkgewogICAgICB0aGlzLm9yZGVycy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGIuaWQpIC0gbmV3IERhdGUoYS5pZCk7CiAgICAgIH0pOwogICAgICByZXR1cm4gdGhpcy5vcmRlcnM7CiAgICB9CiAgICAvKiBlc2xpbnQtZW5hYmxlICovCgogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hPcmRlcnM6IGZ1bmN0aW9uIGZldGNoT3JkZXJzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAnYXBpL2Z1bGxkYXlzYWRtaW4nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiBfdGhpczQub3JkZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qIGVzbGludC1kaXNhYmxlICovCiAgICByZW1vdmVPcmRlcjogZnVuY3Rpb24gcmVtb3ZlT3JkZXIob3JkZXJJRCwgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmRlbGV0ZShwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9BUEkgKyAiYXBpL3Jlc2VydmF0aW9ucy8iICsgb3JkZXJJRCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczUub3JkZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICAgIC8qIGVzbGludC1lbmFibGUgKi8KICAgIH0sCiAgICBsYXRlY2hlY2tvdXQ6IGZ1bmN0aW9uIGxhdGVjaGVja291dChwcmljZSwgc2xvdCwgc3RhcnQsIGVuZCkgewogICAgICB0aGlzLm9ubHlSb29tUHJpY2UgPSAnJzsKICAgICAgdGhpcy5hbW91bnQgPSAnJzsKICAgICAgdGhpcy5yYW5nZSA9ICcnOwogICAgICB0aGlzLmNoZWNrb3V0UHJpY2UgPSBwcmljZTsKICAgICAgdGhpcy5jaGVja091dFNsb3QgPSBzbG90OwogICAgICB0aGlzLmNoZWNrT3V0U3RhcnQgPSBzdGFydDsKICAgICAgdGhpcy5jaGVja091dEVuZCA9IGVuZDsKICAgIH0sCiAgICBjb25zOiBmdW5jdGlvbiBjb25zKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnJhbmdlKTsKICAgIH0sCiAgICBjaGVja251bWJlck9mUGVvcGxlOiBmdW5jdGlvbiBjaGVja251bWJlck9mUGVvcGxlKGUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLm9ubHlSb29tUHJpY2UgPSAnJzsKICAgICAgdGhpcy5hbW91bnQgPSAnJzsKICAgICAgdGhpcy5lbXB0eURhdGVzID0gJyc7CiAgICAgIHRoaXMuZW1wdHlHdWVzdHMgPSAnJzsKICAgICAgdGhpcy5heGlvcy5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICJhcGkvZnVsbGRheXMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBmdWxsZGF5cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXM2LmZ1bGxkYXlzID0gZnVsbGRheXMubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzdGFydDogbmV3IERhdGUoZWxlbWVudC5zdGFydGRhdGUpLAogICAgICAgICAgICBlbmQ6IG5ldyBEYXRlKGVsZW1lbnQuZmluaXNoZGF0ZSksCiAgICAgICAgICAgIHN0YXJ0dGltZTogZWxlbWVudC5zdGFydHRpbWUsCiAgICAgICAgICAgIGZpbmlzaHRpbWU6IGVsZW1lbnQuZmluaXNodGltZSwKICAgICAgICAgICAgc2xvdDogZWxlbWVudC5zbG90X2lkCiAgICAgICAgICB9OwogICAgICAgIH0pOyAvLyBGaWx0ZXIgYWxsIHRoZSBmdWxsZGF5cyB3aGVyZSB0aGUgcmVzZXJ2YXRpb24gdGFrZXMgb25seSB0aGUgZmlyc3Qgc2xvdCBvZiB0aGUgY2hlY2tvdXQgZGF5CgogICAgICAgIHZhciBzbG90MSA9IF90aGlzNi5mdWxsZGF5cy5maWx0ZXIoZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgICByZXR1cm4gaXQuc2xvdC5pbmNsdWRlcygxKTsKICAgICAgICB9KTsKCiAgICAgICAgc2xvdDEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICB2YXIgZW5kID0gbmV3IERhdGUoaXRlbS5lbmQpOwogICAgICAgICAgZW5kLnNldERhdGUoZW5kLmdldERhdGUoKSAtIDEpOwogICAgICAgICAgaXRlbS5lbmQgPSBlbmQ7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9KTsgLy8gRmlsdGVyIGFsbCB0aGUgZnVsbGRheXMgd2hlcmUgdGhlIHRoZSByZXNlcnZ0aW9uIHRha2UgbW9yZSB0aGFuIGZpcnN0IHNsb3QgKCBsYXRlIGNoZWNrb3V0ICkKCiAgICAgICAgdmFyIG90aGVyU2xvdCA9IF90aGlzNi5mdWxsZGF5cy5maWx0ZXIoZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgICByZXR1cm4gaXQuc2xvdCAhPSAxOwogICAgICAgIH0pOyAvLyBtZXJnZSBkZSByZXN1bHQgaW4gb3JkZXIgdG8gY29ycmVjdGx5IHBvcHVsYXRlIHRoZSBjYWxlbmRhciBkYWlseSBiYXNlZCAoIGlmIHN0YW5kYXJkIGNoZWNrb3V0IHdlIGNhbiBjb25jYXQgYW5vdGhlciBmdWxsZGF5cyByZXNlcnZhdGlvbiAtIGVsc2UgYm9vayB0aGUgZnVsbCBkYXkgKQogICAgICAgIC8vIHNsb3QxID0gc3RhbmRhcmQgY2hla291dCAsIG90aGVyU2xvdCA9IHRha2UgYWxsIHRoZSBkYXkgY296IHRoZXJlIGlzIGxhdGUgY2hlY2tvdXQsIHRoaXMuc2xvdHMgPSBpZiB0aGVyZSBpcyBhIHRpbWVzbG90IHRha2VuIGJsb2NrIHRoZSBmdWxsZGF5CgoKICAgICAgICB2YXIgZGF0ZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNsb3QxKSwgX3RvQ29uc3VtYWJsZUFycmF5KG90aGVyU2xvdCksIF90b0NvbnN1bWFibGVBcnJheShfdGhpczYuc2xvdHMpKTsKICAgICAgICBfdGhpczYuZGF0ZXMgPSBkYXRlczsKICAgICAgfSk7IC8vIHBhc3NpbmcgbGlrZSBldmVudCB0aGUgbnVtYmVyIG9mIHNlbGVjdCBudW1iZXIgb2YgcGVvcGxlIGFuZCBhcHBseSBjb25kaXRpb24gd2Vla2VuZCA9PiBsZXNzIHRoYW4gMTYgbm8gd2Vla2VuZAoKICAgICAgaWYgKGUgPT0gIjgiIHx8IGUgPT0gIjkiIHx8IGUgPT0gIjEwIikgewogICAgICAgIHRoaXMuZ3Vlc3RzID0gZTsKICAgICAgICB0aGlzLmFtb3VudCA9ICcnOwogICAgICAgIHRoaXMucmFuZ2UgPSAnJzsKICAgICAgICB2YXIgZGlzYWJsZSA9IFt0aGlzLmRhdGVzXTsKICAgICAgICB2YXIgd2Vla2VuZCA9IHsKICAgICAgICAgIHdlZWtkYXlzOiBbNiwgN10KICAgICAgICB9OwogICAgICAgIGRpc2FibGVbMF0udW5zaGlmdCh3ZWVrZW5kKTsKICAgICAgICB2YXIgYm9va2VlZCA9IFtkaXNhYmxlWzBdXTsKICAgICAgICB0aGlzLmRpc2FibGVDYWxlbmRhciA9IGJvb2tlZWRbMF07CiAgICAgICAgdGhpcy5ndWVzdHMgPSBlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ3Vlc3RzID0gZTsKICAgICAgICB0aGlzLmFtb3VudCA9ICcnOwogICAgICAgIHRoaXMucmFuZ2UgPSAnJzsgLy8gdGhpcy5kYXRlcy5zaGlmdCgpCgogICAgICAgIHZhciBfZGlzYWJsZSA9IFt0aGlzLmRhdGVzXTsKICAgICAgICB0aGlzLmRpc2FibGVDYWxlbmRhciA9IF9kaXNhYmxlWzBdOwogICAgICAgIHRoaXMuZ3Vlc3RzID0gZTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyRXJyb3I6IGZ1bmN0aW9uIGNsZWFyRXJyb3IoKSB7CiAgICAgIHRoaXMuZW1wdHlHdWVzdHMgPSAnJzsKICAgICAgdGhpcy5yYW5nZSA9ICcnOwogICAgfSwKICAgIGNhbGN1bGF0ZTogZnVuY3Rpb24gY2FsY3VsYXRlKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnJhbmdlID09ICcnKSB7CiAgICAgICAgdGhpcy5lbXB0eURhdGVzID0gJ1BsZWFzZSBzZWxlY3QgYSB2YWxpZCByYW5nZSBvZiBkYXlzJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5ndWVzdHMgPT0gJycpIHsKICAgICAgICAgIHRoaXMuZW1wdHlHdWVzdHMgPSAnUGxlYXNlIHNlbGVjdCBudW1iZXIgb2YgZ3Vlc3RzJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gc2V0dGluZyBjb25zdCA9IHRvIGRhdGEgZnJvbSBEQgogICAgICAgICAgdmFyIHNwZWNpYWxkYXkgPSB0aGlzLnNwZWNpYWxkYXk7IC8vIEZvcm1hdHRpbmcgc2VsZWN0ZWQgc3RhcnRpbmcgZGF0ZQoKICAgICAgICAgIHZhciBzdGFydERhdGUgPSBtb21lbnQodGhpcy5yYW5nZVsnc3RhcnQnXSkuZm9ybWF0KCdNTS1ERC1ZWVlZJyk7IC8vIEZvcm1hdHRpbmcgc2VsZWN0ZWQgZW5kaW5nIGRhdGUKCiAgICAgICAgICB2YXIgdG9EYXRlID0gbW9tZW50KHRoaXMucmFuZ2VbJ2VuZCddKS5mb3JtYXQoJ01NLURELVlZWVknKTsgLy8gRmlsdGVyIGlmIHNlbGVjdGVkIHN0YXJ0aW5nIGRhdGUgT1Igc2VsZWN0ZWQgZW5kaW5nIGRhdGUgYXJlIGluc2lkZSByYW5nZSBvZiBzcGVjaWFsIGRheQoKICAgICAgICAgIHZhciByZXN1bHRQcm9kdWN0RGF0YSA9IHNwZWNpYWxkYXkuZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgIC8vIEZvcm1hdHRpbmcgc3BlY2lhbCBkYXkgc3RhcnRpbmcgcmFuZ2UKICAgICAgICAgICAgdmFyIGZyb21EYXRlID0gZWxlbWVudC5mcm9tTW9udGggKyAnLScgKyBlbGVtZW50LmZyb21EYXRlICsgJy0nICsgbW9tZW50KF90aGlzNy5yYW5nZVsnc3RhcnQnXSkuZm9ybWF0KCdZWVlZJyk7IC8vIEZvcm1hdHRpbmcgc3BlY2lhbCBkYXkgZW5kaW5nIHJhbmdlCgogICAgICAgICAgICB2YXIgZW5kRGF0ZSA9IGVsZW1lbnQudG9Nb250aCArICctJyArIGVsZW1lbnQudG9EYXRlICsgJy0nICsgbW9tZW50KF90aGlzNy5yYW5nZVsnZW5kJ10pLmZvcm1hdCgnWVlZWScpOyAvLyBjaGVjayBjb25kaXRpb24KCiAgICAgICAgICAgIGlmIChzdGFydERhdGUgPj0gZnJvbURhdGUgJiYgc3RhcnREYXRlIDw9IGVuZERhdGUgfHwgdG9EYXRlID49IGZyb21EYXRlICYmIHRvRGF0ZSA8PSBlbmREYXRlKSB7CiAgICAgICAgICAgICAgLy8gcmV0dXJuIGFuIGFycmF5IHdpdGggdGhlIHNwZWNpYWwgZGF5IHBlcmlvZCByYW5nZSBoaXQgYnkgdGhlIGRheSBzdGFydGluZyByYW5nZSBvciB0aGUgZGF5IGVuZGluZyByYW5nZQogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAocmVzdWx0UHJvZHVjdERhdGEgIT0gJycpIHsKICAgICAgICAgICAgLy9USEVSRSBBUkUgU1BFQ0lBTCBEQVRFIElOIFRIRSBTRUxFQ1RFRCBSQU5HRSBPRiBEQVRFCiAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlID0gdGhpcy5yYW5nZVsnc3RhcnQnXSAtIHRoaXMucmFuZ2VbJ2VuZCddOwogICAgICAgICAgICB2YXIgZGF5c2RpZmZlcmVuY2UgPSBNYXRoLmNlaWwoZGlmZmVyZW5jZSAvICgxMDAwICogMzYwMCAqIDI0KSk7CiAgICAgICAgICAgIHZhciBkYXlzID0gTWF0aC5hYnMoZGF5c2RpZmZlcmVuY2UpOwogICAgICAgICAgICB2YXIgYW1vdW50ID0gZGF5cyAqIHRoaXMucHJvZHVjdHNbMF1bJ3ByaWNlJ10gKiB0aGlzLmd1ZXN0czsgLy8gUGFydGlhbCB0b3RhbCB3aWh0b3V0IGxhdGUgY2hlY2tvdXQKCiAgICAgICAgICAgIHRoaXMub25seVJvb21QcmljZSA9IGFtb3VudCAvIDEwMCAqIHRoaXMucHJvZHVjdHNbMF0uc3BlY2lhbGRheWluZmxhdGlvbiArIGFtb3VudDsgLy9Ub3RhbAoKICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tvdXRQcmljZSAhPSAnJykgewogICAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gYW1vdW50IC8gMTAwICogdGhpcy5wcm9kdWN0c1swXS5zcGVjaWFsZGF5aW5mbGF0aW9uICsgYW1vdW50ICsgcGFyc2VJbnQodGhpcy5jaGVja291dFByaWNlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmFtb3VudCA9IGFtb3VudCAvIDEwMCAqIHRoaXMucHJvZHVjdHNbMF0uc3BlY2lhbGRheWluZmxhdGlvbiArIGFtb3VudDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gTk8gU1BFQ0lBTCBEQVRFIElOIFRIRSBTRUxFQ1RFRCBSQU5HRSBPRiBEQVRFCiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBob3cgbWFueSBGcmlkYXkgJiBTYXR1cmF5ICYgU3VuZGF5IGluIHRoZSByYW5nZSBvZiByZXNlcnZhdGlvbgogICAgICAgICAgICB2YXIgZERhdGUxID0gbmV3IERhdGUodGhpcy5yYW5nZVsnc3RhcnQnXSk7CiAgICAgICAgICAgIHZhciBkRGF0ZTIgPSBuZXcgRGF0ZSh0aGlzLnJhbmdlWydlbmQnXSk7IC8vV2UgYXJlIHdvcmtpbmcgd2l0aCB0aW1lIHN0YW1wcwoKICAgICAgICAgICAgdmFyIGZyb20gPSBkRGF0ZTEuZ2V0VGltZSgpOwogICAgICAgICAgICB2YXIgdG8gPSBkRGF0ZTIuZ2V0VGltZSgpOwogICAgICAgICAgICB2YXIgdGVtcERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICB2YXIgY291bnQgPSAwOyAvL2xvb3AgdGhyb3VnaCBlYWNoIGRheSBiZXR3ZWVuIHRoZSBkYXRlcyA4NjQwMDAwMCA9IDEgZGF5CgogICAgICAgICAgICBmb3IgKHZhciBfZnJvbSA9IGZyb207IF9mcm9tIDwgdG87IF9mcm9tICs9IDg2NDAwMDAwKSB7CiAgICAgICAgICAgICAgLy9zZXQgdGhlIGRheQogICAgICAgICAgICAgIHRlbXBEYXRlLnNldFRpbWUoX2Zyb20pOyAvL0lmIGl0IGlzIGEgd2Vla2VuZCBhZGQgMSB0byBjb3VudAoKICAgICAgICAgICAgICBpZiAodGVtcERhdGUuZ2V0RGF5KCkgPD0gMCB8fCB0ZW1wRGF0ZS5nZXREYXkoKSA+PSA0KSB7CiAgICAgICAgICAgICAgICBjb3VudCsrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGNvdW50ID09IDApIHsKICAgICAgICAgICAgICAvLyAgTk8gV0VFS0VORCBCRVRXRUVOIFJBTkdFIE9GIERBVEUKICAgICAgICAgICAgICAvLyBUb3RhbCBudW1iZXIgb2YgZGF5IGZyb20gZGF0ZXMgcmFuZ2UgcGlja2VyCiAgICAgICAgICAgICAgdmFyIF9kaWZmZXJlbmNlID0gdGhpcy5yYW5nZVsnc3RhcnQnXSAtIHRoaXMucmFuZ2VbJ2VuZCddOwoKICAgICAgICAgICAgICB2YXIgX2RheXNkaWZmZXJlbmNlID0gTWF0aC5jZWlsKF9kaWZmZXJlbmNlIC8gKDEwMDAgKiAzNjAwICogMjQpKTsKCiAgICAgICAgICAgICAgdmFyIF9kYXlzID0gTWF0aC5hYnMoX2RheXNkaWZmZXJlbmNlKTsgLy8gVG90YWwKCgogICAgICAgICAgICAgIHZhciBfYW1vdW50ID0gX2RheXMgKiB0aGlzLnByb2R1Y3RzWzBdWydwcmljZSddICogdGhpcy5ndWVzdHM7IC8vIFBhcnRpYWwgdG90YWwgd2lodG91dCBsYXRlIGNoZWNrb3V0CgoKICAgICAgICAgICAgICB0aGlzLm9ubHlSb29tUHJpY2UgPSBfYW1vdW50OyAvLyBUb3RhbAoKICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja291dFByaWNlICE9ICcnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFtb3VudCA9IF9hbW91bnQgKyBwYXJzZUludCh0aGlzLmNoZWNrb3V0UHJpY2UpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmFtb3VudCA9IF9hbW91bnQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIFRIRVJFIElTIFdFRUtFTkQgQkVUV0VFTiBSQU5HRSBPRiBEQVRFCiAgICAgICAgICAgICAgLy8gVG90YWwgbnVtYmVyIG9mIGRheSBmcm9tIGRhdGVzIHJhbmdlIHBpY2tlcgogICAgICAgICAgICAgIHZhciBfZGlmZmVyZW5jZTIgPSB0aGlzLnJhbmdlWydzdGFydCddIC0gdGhpcy5yYW5nZVsnZW5kJ107CgogICAgICAgICAgICAgIHZhciBfZGF5c2RpZmZlcmVuY2UyID0gTWF0aC5jZWlsKF9kaWZmZXJlbmNlMiAvICgxMDAwICogMzYwMCAqIDI0KSk7CgogICAgICAgICAgICAgIHZhciBfZGF5czIgPSBNYXRoLmFicyhfZGF5c2RpZmZlcmVuY2UyKTsgLy9zaXN0ZW0gY291bnQgdGhlIHdlZWtlbmQgZGF5cyBidXQgcmVzZXJ2YXRpb24gc2lzdGVtIGlzIGJhc2VkIG9uIG5pZ2h0IHNvIC0xCgoKICAgICAgICAgICAgICB2YXIgbmlnaHQgPSBjb3VudCAtIDE7IC8vIEFtb3VudCBmb3Igd2Vla2VuZCBuaWdodHMKCiAgICAgICAgICAgICAgdmFyIHdlZWtlbmQgPSBuaWdodCAqIHRoaXMucHJvZHVjdHNbMF1bJ3ByaWNlJ10gKiB0aGlzLmd1ZXN0czsgLy8gQWRkaW5nIGluZmxhdGlvbiBmb3Igd2Vla2VuZCBuaWdodHMKCiAgICAgICAgICAgICAgdmFyIHdlZWtlbmRUb3RhbCA9IHdlZWtlbmQgLyAxMDAgKiB0aGlzLnByb2R1Y3RzWzBdLndlZWtlbmRpbmZsYXRpb24gKyB3ZWVrZW5kOyAvLyBOdW1iZXIgb2Ygd2VlayBkYXlzCgogICAgICAgICAgICAgIHZhciB3ZWVrZGF5ID0gX2RheXMyIC0gbmlnaHQ7IC8vIEFtb3VudCBmb3Igd2VlayBuaWdodHMKCiAgICAgICAgICAgICAgdmFyIHdlZWtkYXlUb3RhbCA9IHdlZWtkYXkgKiB0aGlzLnByb2R1Y3RzWzBdWydwcmljZSddICogdGhpcy5ndWVzdHM7IC8vIFBhcnRpYWwgdG90YWwgd2lodG91dCBsYXRlIGNoZWNrb3V0CgogICAgICAgICAgICAgIHRoaXMub25seVJvb21QcmljZSA9IHdlZWtlbmRUb3RhbCArIHdlZWtkYXlUb3RhbDsgLy8gVG90YWwKCiAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tvdXRQcmljZSAhPSAnJykgewogICAgICAgICAgICAgICAgdGhpcy5hbW91bnQgPSB3ZWVrZW5kVG90YWwgKyB3ZWVrZGF5VG90YWwgKyBwYXJzZUludCh0aGlzLmNoZWNrb3V0UHJpY2UpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmFtb3VudCA9IHdlZWtlbmRUb3RhbCArIHdlZWtkYXlUb3RhbDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRpdGlvbmFsOiBmdW5jdGlvbiBhZGRpdGlvbmFsKCkgewogICAgICB2YXIgYWRkaXRpb25hbEFtb3VudCA9IHRoaXMuYWRkaXRpb25hbHMubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkOiBlbGVtZW50LmlkLAogICAgICAgICAgbmFtZTogZWxlbWVudC5uYW1lLAogICAgICAgICAgZGVzY3JpcHRpb246IGVsZW1lbnQuZGVzY3JpcHRpb24sCiAgICAgICAgICBwcmljZTogZWxlbWVudC5wcmljZSwKICAgICAgICAgIHF1YW50aXR5OiBlbGVtZW50LnF1YW50aXR5LAogICAgICAgICAgdG90YWw6IGVsZW1lbnQucHJpY2UgKiBlbGVtZW50LnF1YW50aXR5CiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIHRoaXMuYWRkID0gYWRkaXRpb25hbEFtb3VudDsKICAgICAgdmFyIHRvdGFsID0gYWRkaXRpb25hbEFtb3VudC5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikgewogICAgICAgIHJldHVybiBwcmV2ICsgY3VyLnRvdGFsOwogICAgICB9LCAwKTsKICAgICAgdGhpcy5hZGRpdGlvbmFsQW1vdW50ID0gdG90YWw7CiAgICAgIHRoaXMuYW1vdW50ID0gcGFyc2VJbnQodGhpcy5hZGRpdGlvbmFsQW1vdW50KSArIHBhcnNlSW50KHRoaXMucmVzZXJ2YXRpb24uYW1vdW50KTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgIH0sCiAgICBjb25maXJtYXRpb246IGZ1bmN0aW9uIGNvbmZpcm1hdGlvbigpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgbGFuZ3VhZ2UgPSAnRlInOwogICAgICB2YXIgdHJhbnNhY3Rpb25JRCA9ICdhZG1pbiByZXNlcnZhdGlvbic7CiAgICAgIHZhciBjYXJkQnJhbmQgPSAnbm8gY2FyZCByZXF1aXJlZCc7CiAgICAgIHZhciBsYXN0Rm91ciA9ICdhZG1pbiBhY2NvdW50JzsKICAgICAgdmFyIGV4cGlyZSA9ICdubyBleHBpcmUgZGF0ZSc7CiAgICAgIHZhciB1c2VyX2lkID0gdGhpcy5zZXRVc2VyLmlkOwogICAgICB2YXIgcHJvZHVjdF9pZCA9ICcxJzsKICAgICAgdmFyIHN0YXJ0ZGF0ZSA9IG1vbWVudCh0aGlzLnNlY29uZHN0YWdlLnN0YXJ0KS5mb3JtYXQoJ1lZWVktTS1ERCcpOwogICAgICB2YXIgZmluaXNoZGF0ZSA9IG1vbWVudCh0aGlzLnNlY29uZHN0YWdlLmVuZCkuZm9ybWF0KCdZWVlZLU0tREQnKTsKICAgICAgdmFyIHN0YXJ0dGltZSA9IHRoaXMuc2Vjb25kc3RhZ2UuY2hlY2tPdXRTdGFydDsKICAgICAgdmFyIGZpbmlzaHRpbWUgPSB0aGlzLnNlY29uZHN0YWdlLmNoZWNrT3V0RW5kOwogICAgICB2YXIgc2xvdF9pZCA9IHRoaXMuc2Vjb25kc3RhZ2Uuc2xvdDsKICAgICAgdmFyIGZ1bGxkYXkgPSAnMSc7CiAgICAgIHZhciBndWVzdHMgPSB0aGlzLnNlY29uZHN0YWdlLmd1ZXN0czsKICAgICAgdmFyIGFtb3VudCA9IHBhcnNlSW50KHRoaXMuYW1vdW50KTsKICAgICAgdGhpcy5heGlvcy5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMX0FQSSArICdhcGkvYWRtaW5yZXNlcnZhdGlvbicsIHsKICAgICAgICB1c2VyX2lkOiB1c2VyX2lkLAogICAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3RfaWQsCiAgICAgICAgc3RhcnRkYXRlOiBzdGFydGRhdGUsCiAgICAgICAgZmluaXNoZGF0ZTogZmluaXNoZGF0ZSwKICAgICAgICBzdGFydHRpbWU6IHN0YXJ0dGltZSwKICAgICAgICBmaW5pc2h0aW1lOiBmaW5pc2h0aW1lLAogICAgICAgIHNsb3RfaWQ6IHNsb3RfaWQsCiAgICAgICAgZnVsbGRheTogZnVsbGRheSwKICAgICAgICBndWVzdHM6IGd1ZXN0cywKICAgICAgICB0cmFuc2FjdGlvbklEOiB0cmFuc2FjdGlvbklELAogICAgICAgIGNhcmRCcmFuZDogY2FyZEJyYW5kLAogICAgICAgIGxhc3RGb3VyOiBsYXN0Rm91ciwKICAgICAgICBleHBpcmU6IGV4cGlyZSwKICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmlkKTsKCiAgICAgICAgdmFyIGV4dHJhcyA9IF90aGlzOC5hZGQubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM4LmF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkxfQVBJICsgJ2FwaS9leHRyYXMnLCB7CiAgICAgICAgICAgIHJlc2VydmF0aW9uX2lkOiByZXNwb25zZS5kYXRhLmlkLAogICAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsCiAgICAgICAgICAgIHByaWNlOiBlbGVtZW50LnByaWNlLAogICAgICAgICAgICBxdWFudGl0eTogZWxlbWVudC5xdWFudGl0eQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgIGNvbnNvbGUubG9nKGV4dHJhcyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzOC5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy5lcnJvciAhPSAnJykgewogICAgICAgIHRoaXMuYWRkaXRpb25hbEFtb3VudCA9ICcnOwogICAgICAgIHRoaXMucmFuZ2UgPSAnJzsKICAgICAgICB0aGlzLmd1ZXN0cyA9ICcnOwogICAgICAgIHRoaXMuYWRkQWRkaXRpb25hbCA9ICcnOwogICAgICAgIHRoaXMuYW1vdW50ID0gJyc7CiAgICAgICAgdGhpcy5zdWNjZXNzID0gJ1N1Y2Nlc3NmdWxseSBib29rJzsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFyUmVzZXJ2YXRpb24nKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFyQWRkaXRpb25hbHMnKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFydG90YWxBbW91bnQnKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFybGF0ZUNoZWNrb3V0Jyk7CiAgICAgICAgdGhpcy5lcnJvciA9ICdTb21ldGhpbmcgZ29lcyB3cm9uZyBwbGVhc2UgdHJ5IGFnYWluJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkZGl0aW9uYWxBbW91bnQgPSAnJzsKICAgICAgICB0aGlzLnJhbmdlID0gJyc7CiAgICAgICAgdGhpcy5ndWVzdHMgPSAnJzsKICAgICAgICB0aGlzLmFkZEFkZGl0aW9uYWwgPSAnJzsKICAgICAgICB0aGlzLmFtb3VudCA9ICcnOwogICAgICAgIHRoaXMuc3VjY2VzcyA9ICdTdWNjZXNzZnVsbHkgYm9vayc7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjbGVhclJlc2VydmF0aW9uJyk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjbGVhckFkZGl0aW9uYWxzJyk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjbGVhcnRvdGFsQW1vdW50Jyk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjbGVhcmxhdGVDaGVja291dCcpOwogICAgICB9CiAgICB9LAogICAgbmV4dDogZnVuY3Rpb24gbmV4dChyYW5nZSwgYW1vdW50LCBndWVzdHMpIHsKICAgICAgaWYgKHRoaXMuYW1vdW50ID09ICcnIHx8IHRoaXMub25seVJvb21QcmljZSA9PSAnJykgewogICAgICAgIHRoaXMuZW1wdHlTZWxlY3Rpb24gPSAnUGxlYXNlIGZpbGwgYWxsIHRoZSBmaWVsZCBuZWNlc3NhcnkgdG8gY29tcGxldGUgeW91ciByZXNlcnZhdGlvbiAnOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBmcm9tRGF0ZSA9IHRoaXMucmFuZ2Uuc3RhcnQ7CiAgICAgICAgdmFyIHRvRGF0ZSA9IHRoaXMucmFuZ2UuZW5kOwoKICAgICAgICBpZiAodGhpcy5jaGVja291dFByaWNlID09ICcnKSB7CiAgICAgICAgICB0aGlzLmNoZWNrb3V0UHJpY2UgPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuY2hlY2tPdXRTdGFydCA9PSAiIikgewogICAgICAgICAgdGhpcy5jaGVja091dFN0YXJ0ID0gdGhpcy5sYXRlQ2hlY2tvdXRbMF1bJ3N0YXJ0J107CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5jaGVja091dEVuZCA9PSAiIikgewogICAgICAgICAgdGhpcy5jaGVja091dEVuZCA9IHRoaXMubGF0ZUNoZWNrb3V0WzBdWydlbmQnXTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmNoZWNrT3V0U2xvdCA9PSAiIikgewogICAgICAgICAgdGhpcy5jaGVja091dFNsb3QgPSB0aGlzLmxhdGVDaGVja291dFswXVsnc2xvdCddOwogICAgICAgIH0KCiAgICAgICAgdmFyIGJvb2sgPSB7CiAgICAgICAgICBzdGFydDogZnJvbURhdGUsCiAgICAgICAgICBlbmQ6IHRvRGF0ZSwKICAgICAgICAgIGRhdGVzOiByYW5nZSwKICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgZ3Vlc3RzOiBndWVzdHMsCiAgICAgICAgICBzbG90OiB0aGlzLmNoZWNrT3V0U2xvdCwKICAgICAgICAgIG9ubHlSb29tUHJpY2U6IHRoaXMub25seVJvb21QcmljZSwKICAgICAgICAgIGNoZWNrb3V0UHJpY2U6IHRoaXMuY2hlY2tvdXRQcmljZSwKICAgICAgICAgIGNoZWNrT3V0U3RhcnQ6IHRoaXMuY2hlY2tPdXRTdGFydCwKICAgICAgICAgIGNoZWNrT3V0RW5kOiB0aGlzLmNoZWNrT3V0RW5kCiAgICAgICAgfTsgLy8gdGhpcy4kc3RvcmUuY29tbWl0KCdsYXRlQ2hlY2tvdXQnLCAodGhpcy5jaGVja291dFByaWNlKSkKCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRSZXNlcnZhdGlvbicsIGJvb2spOwogICAgICAgIHRoaXMuYWRkQWRkaXRpb25hbCA9IDE7CiAgICAgIH0KICAgIH0KICB9LAoKICAvKiBlc2xpbnQtZGlzYWJsZSAqLwogIHdhdGNoOiB7CiAgICAnYWRkaXRpb25hbEFtb3VudCc6IGZ1bmN0aW9uIGFkZGl0aW9uYWxBbW91bnQodmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKHZhbCAhPSAnJykgewogICAgICAgIHZhciBhbW91bnQgPSB0aGlzLmFtb3VudDsKICAgICAgICB0aGlzLmFtb3VudCA9IGFtb3VudCAtIG9sZFZhbCArIHZhbDsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgX2Ftb3VudDIgPSB0aGlzLmFtb3VudDsKICAgICAgICB0aGlzLmFtb3VudCA9IF9hbW91bnQyIC0gb2xkVmFsICsgdmFsOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3JkZXJzOiBbXSwKICAgICAgZmFjZXQ6IFtdLAogICAgICBzZWFyY2hRdWVyeTogbnVsbCwKICAgICAgYWRkOiAnJywKICAgICAgYWRkaXRpb25hbHM6ICcnLAogICAgICBhZGRpdGlvbmFsQW1vdW50OiAnJywKICAgICAgZXJyb3I6ICcnLAogICAgICBzdWNjZXNzOiAnJywKICAgICAgbGF0ZUNoZWNrb3V0OiAnJywKICAgICAgbnVtYmVyT2ZQZW9wbGVGdWxsRGF5OiAnJywKICAgICAgc3BlY2lhbGRheTogJycsCiAgICAgIFByZVNlbGVjdGVkQ2hlY2tPdXQ6IFt7CiAgICAgICAgbmFtZTogJ01ha2UgeW91ciBjaG9pc2UnLAogICAgICAgIHByaWNlOiAwCiAgICAgIH1dLAogICAgICBOdW1QZW9wbGU6IFt7CiAgICAgICAgbmFtZTogJ01ha2UgeW91ciBjaG9pc2UnCiAgICAgIH1dLAogICAgICBlbXB0eVNlbGVjdGlvbjogJycsCiAgICAgIG9ubHlSb29tUHJpY2U6ICcnLAogICAgICBjaGVja291dFByaWNlOiAnJywKICAgICAgY2hlY2tPdXRTbG90OiAxLAogICAgICBjaGVja091dFN0YXJ0OiAnJywKICAgICAgY2hlY2tPdXRFbmQ6ICcnLAogICAgICBlbXB0eUd1ZXN0czogJycsCiAgICAgIGRhdGVzOiAnJywKICAgICAgc2xvdHM6ICcnLAogICAgICB0aW1lc2xvdHM6ICcnLAogICAgICBmdWxsZGF5czogJycsCiAgICAgIGd1ZXN0czogJycsCiAgICAgIGFtb3VudDogJycsCiAgICAgIHByb2R1Y3RzOiAnJywKICAgICAgZGlzYWJsZWREYXlzOiBbXSwKICAgICAgZGlzYWJsZUNhbGVuZGFyOiBbXSwKICAgICAgcmVzZXJ2YXRpb25zOiAnJywKICAgICAgcmFuZ2U6ICcnLAogICAgICBtYXRjaFNwZWNpYWxEYXk6ICcnLAogICAgICBhZGRBZGRpdGlvbmFsOiAnJwogICAgfTsKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYnM6IHRhYnMsCiAgICAgIGRhdGE6IGRhdGEsCiAgICAgIG1vbWVudDogbW9tZW50CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgUmVmcmVzaEljb246IFJlZnJlc2hJY29uLAogICAgQ3JlZGl0Q2FyZEljb246IENyZWRpdENhcmRJY29uLAogICAgQ2hldnJvbkRvd25JY29uOiBDaGV2cm9uRG93bkljb24sCiAgICBEaXNjbG9zdXJlOiBEaXNjbG9zdXJlLAogICAgRGlzY2xvc3VyZUJ1dHRvbjogRGlzY2xvc3VyZUJ1dHRvbiwKICAgIERpc2Nsb3N1cmVQYW5lbDogRGlzY2xvc3VyZVBhbmVsLAogICAgVHJhc2hJY29uOiBUcmFzaEljb24sCiAgICBDaGVja0ljb246IENoZWNrSWNvbiwKICAgIFNlbGVjdG9ySWNvbjogU2VsZWN0b3JJY29uLAogICAgWENpcmNsZUljb246IFhDaXJjbGVJY29uLAogICAgWEljb246IFhJY29uLAogICAgTGlzdGJveDogTGlzdGJveCwKICAgIExpc3Rib3hCdXR0b246IExpc3Rib3hCdXR0b24sCiAgICBMaXN0Ym94TGFiZWw6IExpc3Rib3hMYWJlbCwKICAgIExpc3Rib3hPcHRpb246IExpc3Rib3hPcHRpb24sCiAgICBMaXN0Ym94T3B0aW9uczogTGlzdGJveE9wdGlvbnMKICB9Cn07"},{"version":3,"mappings":"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","names":["CreditCardIcon","ChevronDownIcon","TrashIcon","RefreshIcon","Disclosure","DisclosureButton","DisclosurePanel","Listbox","ListboxButton","ListboxLabel","ListboxOption","ListboxOptions","moment","CheckIcon","SelectorIcon","XCircleIcon","XIcon","tabs","name","href","current","data","disable","attributes","key","highlight","color","fillMode","dates","Date","mounted","axios","get","process","env","VUE_APP_URL_API","then","specialday","response","timeslots","additionals","map","id","element","description","price","image","language","quantity","post","slots","start","startdate","end","finishdate","starttime","finishtime","slot","slot_id","fulldays","slot1","filter","it","includes","item","setDate","getDate","otherSlot","disableCalendar","products","fetchOrders","beforeMount","orders","numberOfPeopleFullDay","lateCheckout","computed","setUser","$store","state","secondstage","reservation","filterOrders","order","searchQuery","sortedOrders","sort","a","b","methods","removeOrder","orderID","index","delete","splice","catch","console","log","error","latecheckout","onlyRoomPrice","amount","range","checkoutPrice","checkOutSlot","checkOutStart","checkOutEnd","cons","checknumberOfPeople","e","emptyDates","emptyGuests","guests","weekend","weekdays","unshift","bookeed","clearError","calculate","startDate","format","toDate","resultProductData","fromDate","fromMonth","endDate","toMonth","difference","daysdifference","Math","ceil","days","abs","specialdayinflation","parseInt","dDate1","dDate2","from","getTime","to","tempDate","count","_from","setTime","getDay","night","weekendTotal","weekendinflation","weekday","weekdayTotal","additional","additionalAmount","total","add","reduce","prev","cur","refresh","$router","go","confirmation","transactionID","cardBrand","lastFour","expire","user_id","product_id","fullday","extras","reservation_id","message","addAdditional","success","commit","next","emptySelection","book","watch","val","oldVal","facet","PreSelectedCheckOut","NumPeople","disabledDays","reservations","matchSpecialDay","setup","components"],"sourceRoot":"","sources":["/Users/work/Documents/projects/paradisopark/src/components/Fulldayreservations.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-5xl mx-auto top-20 py-24 px-4 sm:py-32 sm:px-6 lg:px-8\">\n    <div class=\"sm:hidden\">\n      <label for=\"tabs\" class=\"sr-only\">Select a tab</label>\n      <!-- Use an \"onChange\" listener to redirect the user to the selected tab URL. -->\n      <select id=\"tabs\" name=\"tabs\" class=\"block w-full focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md\">\n        <option v-for=\"tab in tabs\" :key=\"tab.name\" :selected=\"tab.current\">{{ tab.name }}</option>\n      </select>\n    </div>\n    <div class=\"hidden sm:block\">\n      <div class=\"border-b border-gray-200\">\n        <nav class=\"-mb-px flex\" aria-label=\"Tabs\">\n          <router-link v-for=\"tab in tabs\" :key=\"tab.name\" :to=\"tab.href\" :class=\"[tab.current ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300', 'w-1/4 py-4 px-1 text-center border-b-2 font-medium text-sm']\" :aria-current=\"tab.current ? 'page' : undefined\">\n            {{ tab.name }}\n          </router-link>\n        </nav>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"bg-white\">\n    <div class=\"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8\">\n      <div class=\"text-center\">\n        <h2 class=\"text-base font-semibold text-indigo-600 tracking-wide uppercase\">Pricing</h2>\n        <p class=\"mt-1 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl\">Handle Full day reservations</p>\n        <p class=\"max-w-xl mt-5 mx-auto text-xl text-gray-500\">Start building for free, then add a site plan to go live. Account plans unlock additional features.</p>\n      </div>\n    </div>\n  </div>\n\n  <!--START RESERVATIONS FORM FOR ADMIN-->\n  <div class=\"max-w-7xl mx-auto top-20 px-4 sm:px-6 lg:px-8\">\n    <form class=\"mt-12 lg:grid lg:grid-cols-12 lg:gap-x-12 lg:items-start xl:gap-x-16\">\n      <section aria-labelledby=\"cart-heading\" class=\"lg:col-span-7\">\n        <h2 id=\"cart-heading\" class=\"sr-only\">Items in your shopping cart</h2>\n\n        <div class=\"sm:flex items-center justify-between bg-gray-50 mb-4 p-4\">\n          <!-- SELECT NUMBER OF PEOPLE -->\n          <div>\n            <Listbox as=\"div\" class=\"mr-1\" v-model=\"NumPeople\" >\n              <ListboxLabel class=\"block text-sm font-medium text-gray-700\"> Number of people </ListboxLabel>\n              <div class=\"mt-1 relative\">\n                <ListboxButton class=\"bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\">\n                  <span v-if=\"NumPeople.name\" class=\"block truncate\">{{ NumPeople.name }}</span>\n                  <span v-else class=\"block truncate\">Make your Choise</span>\n                  <span class=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                      <SelectorIcon class=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                    </span>\n                </ListboxButton>\n\n                <transition leave-active-class=\"transition ease-in duration-100\" leave-from-class=\"opacity-100\" leave-to-class=\"opacity-0\">\n                  <ListboxOptions class=\"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\">\n                    <ListboxOption as=\"template\" v-for=\"person in numberOfPeopleFullDay\" :key=\"person.id\" :value=\"person\" v-slot=\"{ active, selected }\">\n                      <li :class=\"[active ? 'text-white bg-indigo-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-3 pr-9']\" v-on:click=\"checknumberOfPeople(person.value)\">\n                          <span :class=\"[selected ? 'font-semibold' : 'font-normal', 'block truncate']\">\n                            {{ person.name }}\n                          </span>\n\n                        <span v-if=\"selected\" :class=\"[active ? 'text-white' : 'text-indigo-600', 'absolute inset-y-0 right-0 flex items-center pr-4']\">\n                            <CheckIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                          </span>\n                      </li>\n                    </ListboxOption>\n                  </ListboxOptions>\n                </transition>\n              </div>\n            </Listbox>\n            <small class=\"text-gray-400\">The minimum price start for a group of 6 persons.</small>\n          </div>\n          <!-- SELECT CHECKOUT -->\n          <div>\n            <Listbox as=\"div\" class=\"ml-1\" v-model=\" PreSelectedCheckOut\">\n              <ListboxLabel class=\"block text-sm font-medium text-gray-700\"> Checkout </ListboxLabel>\n              <div class=\"mt-1 relative\">\n                <ListboxButton class=\"bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\">\n                  <span v-if=\" PreSelectedCheckOut.name\" class=\"block truncate\">{{  PreSelectedCheckOut.name }}</span>\n                  <span v-else class=\"block truncate\">Make your Choise</span>\n                  <span class=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                      <SelectorIcon class=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                    </span>\n                </ListboxButton>\n\n                <transition leave-active-class=\"transition ease-in duration-100\" leave-from-class=\"opacity-100\" leave-to-class=\"opacity-0\">\n                  <ListboxOptions class=\"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\">\n                    <ListboxOption as=\"template\" v-for=\"time in lateCheckout\" :key=\"time.id\" :value=\"time\" v-slot=\"{ active, selected }\">\n                      <li :class=\"[active ? 'text-white bg-indigo-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-3 pr-9']\" v-on:click=\"latecheckout(time.price, time.slot, time.start, time.end)\">\n                          <span :class=\"[selected ? 'font-semibold' : 'font-normal', 'block truncate']\">\n                            {{ time.name }}\n                          </span>\n\n                        <span v-if=\"selected\" :class=\"[active ? 'text-white' : 'text-indigo-600', 'absolute inset-y-0 right-0 flex items-center pr-4']\">\n                            <CheckIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                          </span>\n                      </li>\n                    </ListboxOption>\n                  </ListboxOptions>\n                </transition>\n              </div>\n            </Listbox>\n            <small class=\"text-gray-400\">The minimum price start for a group of 8 persons.</small>\n          </div>\n        </div>\n\n        <!--ERROR No guests selected-->\n        <div v-if=\"this.emptyGuests\" class=\"rounded-md bg-red-50 p-4 mb-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <XCircleIcon class=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n            </div>\n            <div class=\"ml-3\">\n              <p class=\"text-sm font-medium text-red-800\">{{ emptyGuests }}</p>\n            </div>\n            <div class=\"ml-auto pl-3\">\n              <div class=\"-mx-1.5 -my-1.5\">\n                <button type=\"button\" v-on:click=\"clearError\" class=\"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-50 focus:ring-red-600\">\n                  <span class=\"sr-only\">Dismiss</span>\n                  <XIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- DATE PICKER -->\n        <v-date-picker class=\"mycustomcalendar\"\n                       :attributes=\"data.attributes\"\n                       is-expanded\n                       is-range\n                       color=\"green\"\n                       :disabled-dates=\"disableCalendar\"\n                       :min-date='new Date()'\n                       v-model=\"range\"\n                       v-on:click=\"calculate()\"\n\n        />\n\n        <!--START ADDITIONAL RESERVATIONS FOR ADMIN-->\n\n        <div v-if=\"addAdditional\">\n          <form class=\"mt-10\">\n            <section aria-labelledby=\"cart-heading\" class=\"lg:col-span-7\">\n              <h2 id=\"cart\" class=\"sr-only\">Items in your shopping cart</h2>\n\n              <ul role=\"list\" class=\"border-t border-b border-gray-200 divide-y divide-gray-200\">\n                <li v-for=\"(product, productIdx) in additionals\" :key=\"product.id\" class=\"flex py-3 sm:py-4\" @change=\"additional()\">\n                  <div class=\"flex-shrink-0\">\n                    <img :src=\"product.image\" :alt=\"product.imageAlt\" class=\"w-16 h-16 rounded-md object-center object-cover sm:w-20 sm:h-20\" />\n                  </div>\n\n                  <div class=\"ml-4 flex-1 flex flex-col justify-between sm:ml-6\">\n                    <div class=\"pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0\">\n                      <div>\n                        <div class=\"flex justify-between\">\n                          <h3 class=\"text-sm\">\n                            <a :href=\"product.href\" class=\"font-medium text-gray-700 hover:text-gray-800\">\n                              {{ product.name }}\n                            </a>\n                          </h3>\n                        </div>\n                        <div class=\"mt-1 flex text-sm\">\n                          <p v-if=\"product.description\" class=\"text-gray-500\">\n                            {{ product.description }}\n                          </p>\n                        </div>\n                        <p class=\"mt-1 text-sm font-medium text-gray-900\">{{ product.price / 100 }} </p>\n                      </div>\n\n                      <div class=\"mt-4 sm:mt-0 sm:pr-9 flex flex-col\">\n                        <label :for=\"`quantity-${productIdx}`\" class=\"mt-3 text-sm text-gray-500\">Quantity</label>\n                        <select v-model=\"product.quantity\" :id=\"`quantity-${productIdx}`\" :name=\"`quantity-${productIdx}`\" class=\"max-w-full rounded-md border border-gray-300 py-1.5 text-base leading-5 font-medium text-gray-700 text-left shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\">\n                          <option  value=\"0\">0</option>\n                          <option v-for=\"index in 60\" :key=\"index\" :value=\"index\">{{index}}</option>\n                        </select>\n                      </div>\n                    </div>\n\n                  </div>\n                </li>\n              </ul>\n            </section>\n          </form>\n        </div>\n\n\n        <!--END MANAGING ADDITIONALS FOR ADMIN-->\n\n      </section>\n\n      <!-- Order summary -->\n      <section aria-labelledby=\"summary-heading\" class=\"mt-16 bg-gray-50 px-4 py-6 sm:p-6 lg:p-8 lg:mt-0 lg:col-span-5\">\n        <h2 id=\"summary-heading\" class=\"text-lg font-medium text-gray-900\">Order summary</h2>\n\n        <dl class=\"mt-6 space-y-4\">\n          <div class=\"flex items-center justify-between\">\n            <dt class=\"text-sm text-gray-600\">Numbers of guest</dt>\n            <dd class=\"text-sm font-medium text-gray-900\">{{ guests }}</dd>\n          </div>\n          <div v-if=\"range\" class=\"border-t border-gray-200 pt-4 flex items-center justify-between\">\n            <dt class=\"flex items-center text-sm text-gray-600\">\n              <span>From date</span>\n            </dt>\n            <dd class=\"text-sm font-medium text-gray-900\">{{ moment(range.start).format('DD-MM-YYYY')}} </dd>\n          </div>\n          <div v-if=\"range\" class=\"border-t border-gray-200 pt-4 flex items-center justify-between\">\n            <dt class=\"flex items-center text-sm text-gray-600\">\n              <span>To date</span>\n            </dt>\n            <dd class=\"text-sm font-medium text-gray-900\">{{ moment(range.end).format('DD-MM-YYYY')}} </dd>\n          </div>\n          <div v-if=\"onlyRoomPrice\" class=\"border-t border-gray-200 pt-4 flex items-center justify-between\">\n            <dt class=\"flex items-center text-sm text-gray-600\">\n              <span>Room total</span>\n            </dt>\n            <dd class=\"text-sm font-medium text-gray-900\">{{ onlyRoomPrice / 100 }} </dd>\n          </div>\n          <div v-if=\"additionalAmount\" class=\"border-t border-gray-200 pt-4 flex items-center justify-between\" >\n            <dt class=\"flex items-center text-sm text-gray-600\">\n              <span>Total additional</span>\n            </dt>\n            <dd class=\"text-sm font-medium text-gray-900\" :id=\"additionalAmount\" >{{ additionalAmount / 100 }} \n              <input v-model=\"additionalAmount\" class=\"hidden\">\n            </dd>\n          </div>\n          <div v-if=\"checkoutPrice\" class=\"border-t border-gray-200 pt-4 flex items-center justify-between\">\n            <dt class=\"flex text-sm text-gray-600\">\n              <span>Late checkout</span>\n            </dt>\n            <dd class=\"text-sm font-medium text-gray-900\">{{ checkoutPrice / 100 }} </dd>\n          </div>\n          <div class=\"border-t border-gray-200 pt-4 flex items-center justify-between\">\n            <dt class=\"text-base font-medium text-gray-900\">Order total</dt>\n            <dd class=\"text-base font-medium text-gray-900\">{{ amount / 100 }} </dd>\n          </div>\n        </dl>\n\n        <div class=\"mt-6\">\n          <button v-if=\"addAdditional==''\" v-on:click=\"next( range, amount, guests)\" type=\"button\" class=\"w-full bg-indigo-600 border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500\">Next</button>\n          <button v-else v-on:click=\"confirmation()\" type=\"button\" class=\"mt-4 w-full bg-red-600 border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-red-500\">Confirm</button>\n        </div>\n\n\n        <!--ERROR No all the field are filled-->\n        <div v-if=\"this.emptySelection\" class=\"rounded-md bg-red-50 p-4 mb-4 mt-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <XCircleIcon class=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n            </div>\n            <div class=\"ml-3\">\n              <p class=\"text-sm font-medium text-red-800\">{{ emptySelection }}</p>\n            </div>\n            <div class=\"ml-auto pl-3\">\n              <div class=\"-mx-1.5 -my-1.5\">\n                <button type=\"button\" v-on:click=\"this.emptySelection = ''\" class=\"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-50 focus:ring-red-600\">\n                  <span class=\"sr-only\">Dismiss</span>\n                  <XIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!--ERROR sending data to DB-->\n\n        <div v-if=\"this.error\" class=\"mt-4 rounded-md bg-red-50 p-4 mb-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <XCircleIcon class=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n            </div>\n            <div class=\"ml-3\">\n              <p class=\"text-sm font-medium text-red-800\">{{ error }}</p>\n            </div>\n            <div class=\"ml-auto pl-3\">\n              <div class=\"-mx-1.5 -my-1.5\">\n                <button type=\"button\" v-on:click=\"this.error = ''\" class=\"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-50 focus:ring-red-600\">\n                  <span class=\"sr-only\">Dismiss</span>\n                  <XIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!--Success sending data to DB-->\n        <div v-if=\"this.success\" class=\"mt-4 rounded-md bg-green-50 p-4 mb-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <CheckIcon class=\"h-5 w-5 text-green-400\" aria-hidden=\"true\" />\n            </div>\n            <div class=\"ml-3\">\n              <p class=\"text-sm font-medium text-green-800\">{{ success }}</p>\n            </div>\n            <div class=\"ml-auto pl-3\">\n              <div class=\"-mx-1.5 -my-1.5\">\n                <button type=\"button\" v-on:click=\"this.success = ''\" class=\"inline-flex bg-green-50 rounded-md p-1.5 text-green-500 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-green-50 focus:ring-green-600\">\n                  <span class=\"sr-only\">Dismiss</span>\n                  <XIcon class=\"h-5 w-5\" aria-hidden=\"true\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </section>\n    </form>\n  </div>\n  <!--END RESERVATIONS FORM FOR ADMIN-->\n\n\n  <!--START MANAGING RESERVATIONS FOR ADMIN-->\n\n\n\n  <div class=\"max-w-7xl mx-auto top-20 py-24 px-4 sm:py-32 sm:px-6 lg:px-8\">\n    <div class=\"flex flex-col mt-10\" style=\"max-height: 200Vh\">\n      <h1 class=\"mt-10 font-bold text-3xl px-4\" id=\"order\">Commandes actives</h1>\n      <button type=\"button\" @click=\"refresh()\"  class=\"my-2 mx-4 inline-flex items-center px-2 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\n        <RefreshIcon class=\"h-4 w-4 mr-2\" aria-hidden=\"true\" />\n        <span>Refresh orders</span>\n      </button>\n\n      <!--  start search box-->\n\n      <div class=\"px-4\">\n        <label for=\"first-name\" class=\"mt-5 block text-sm font-medium text-gray-700\">\n          Recherche par identifiant de commande\n        </label>\n        <input type=\"search\" v-model=\"searchQuery\" name=\"\"  class=\"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" placeholder=\"Enter a search here!\" />\n      </div>\n\n      <div>\n        <p class=\"mb-2 text-right\" v-if=\"searchQuery && filterOrders.length > 1 \">{{filterOrders.length}} results</p>\n        <div v-if=\"!searchQuery\"></div>\n\n        <div v-else class=\"border-2 border-red-600 mt-2 overflow-hidden\">\n          <div v-for=\"order in filterOrders\" :key=\"order.id\" class=\"py-3 border-b-4 border-indigo-600 mb-2\" >\n            <div class=\"bg-white py-3 border-t border-b border-gray-200 shadow-sm sm:border\">\n              <div class=\"py-6 px-4 sm:px-6 lg:grid lg:grid-cols-12 lg:gap-x-8 lg:p-8\">\n                <div class=\"sm:flex lg:col-span-7 border-b \">\n\n                  <div class=\"mt-6 sm:mt-0 sm:ml-6\">\n                    <h1 class=\"text-base font-xlarge text-gray-900\">\n                      Commande n {{ order.id }}\n                    </h1>\n                    <p class=\"text-gray-500 font-medium\">blabla</p>\n                  </div>\n                </div>\n\n\n                <div class=\"sm:flex lg:col-span-7 mt-5\">\n                  <dl class=\"grid grid-cols-2 gap-x-6 text-sm\">\n                    <div>\n                      <dt class=\"font-medium text-gray-900\">From:</dt>\n                      <dd class=\"text-gray-500\">\n                        {{moment(order.startdate).format('DD-MM-YYYY')}}\n                      </dd>\n                      <dt class=\"font-medium text-gray-900 mt-3\">Number of guests:</dt>\n                      <dd class=\"text-gray-500\">\n                        <span class=\"block\">{{order.guests}}</span>\n                      </dd>\n                    </div>\n                    <div>\n                      <dt class=\"font-medium text-gray-900\">To:</dt>\n                      <dd class=\"text-gray-500 space-y-3\">\n                        <p>\n                          {{moment(order.finishdate).format('DD-MM-YYYY')}}\n                        </p>\n                      </dd>\n                      <dt class=\"mt-3 font-medium text-gray-900\">Checkout time:</dt>\n                      <dd class=\"text-gray-500 space-y-3\">\n                        <p>\n                          {{order.starttime}}:00\n                        </p>\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n\n                <div class=\"mt-6 lg:mt-0 lg:col-span-5 lg:mt-5\">\n                  <dl class=\"grid grid-cols-2 gap-x-6 text-sm\">\n                    <div>\n                      <dt class=\"font-medium text-gray-900\">Additionals:</dt>\n                      <dd v-for=\"extra in order.extras\" v-bind:key=\"extra.id\" class=\"text-gray-500\">\n                        <span class=\"block\">{{extra.name}}: {{extra.quantity}}</span>\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"bg-gray-100 py-6 px-4 sm:px-6 lg:px-8 lg:py-8 lg:grid lg:grid-cols-12 lg:gap-x-8\">\n              <dl class=\"grid grid-cols-2 gap-6 text-sm sm:grid-cols-2 md:gap-x-8 lg:col-span-7\">\n                <div v-if=\"order.user\">\n                  <dt class=\"font-medium text-gray-900\">User account:</dt>\n                  <dd class=\"mt-3 text-gray-500\">\n                    <span class=\"block\">{{order.user.name}}</span>\n                    <span class=\"block\">{{order.user.email}}</span>\n                  </dd>\n                </div>\n                <div v-else>\n                  <dt class=\"font-medium text-gray-900\">User account:</dt>\n                  <dd class=\"mt-3 text-gray-500\">\n                    <span class=\"block\">This user has been deleted</span>\n                  </dd>\n                </div>\n                <div>\n                  <dt class=\"font-medium text-gray-900\">Informations de paiement:</dt>\n                  <div class=\"mt-3\">\n                    <dd class=\"-ml-4 -mt-4 flex flex-wrap\">\n\n                      <div class=\"ml-4 mt-4\">\n                        <p class=\"text-gray-500\">\n                          <CreditCardIcon class=\"h-6 w-6\"></CreditCardIcon>\n                        </p>\n                        <p class=\"text-gray-500\">\n                          Brand:  <span class=\"uppercase\">{{ order.cardBrand }}</span>\n                        </p>\n                        <p class=\"text-gray-500\">\n                          Termine par: {{ order.lastFour }}\n                        </p>\n                        <p class=\"text-gray-500\">\n                          Expire: {{order.expire}}\n                        </p>\n                      </div>\n                    </dd>\n                  </div>\n                </div>\n              </dl>\n\n              <dl class=\"mt-8 divide-y divide-gray-200 text-sm lg:mt-0 lg:col-span-5\">\n                <div class=\"pt-4 flex items-center justify-between\">\n                  <dt class=\"font-medium text-gray-900\">ID transaction:</dt>\n                  <dd class=\"font-medium text-indigo-600\">{{ order.transactionID }}</dd>\n                </div>\n                <div class=\"pt-4 flex items-center justify-between\">\n                  <dt class=\"font-medium text-gray-900\">Total de la commande</dt>\n                  <dd class=\"font-medium text-indigo-600\"> {{order.amount/100}}</dd>\n                </div>\n                <div class=\"sm:flex p-2 text-right mt-2\">\n                  <div class=\"ml-2  md:mt-0 lg:mt-0 text-right\">\n                    <button type=\"button\" @click=\"removeOrder(order.id, index)\" class=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 text-right\">\n                      <TrashIcon class=\"h-4 w-4\" aria-hidden=\"true\" />\n                    </button>\n                  </div>\n                </div>\n              </dl>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!--  end search box-->\n\n      <div class=\"-my-2 overflow-x-auto lg:-mx-8 mt-5\">\n        <div class=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\n          <div class=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\n            <main class=\"mx-auto\">\n              <div class=\"bg-gray-50\">\n                <div class=\"max-w-7xl mx-auto pb-12 px-4 sm:pb-16 sm:px-6 lg:px-8\">\n                  <div class=\"mx-auto divide-y-2 divide-gray-200\">\n                    <dl class=\"mt-6 space-y-6 divide-y divide-gray-200\">\n                      <Disclosure as=\"div\" v-for=\"order in sortedOrders\" :key=\"order.id\" class=\"pt-6\" v-slot=\"{ open }\">\n                        <dt class=\"text-lg\">\n                          <DisclosureButton class=\"text-left w-full flex justify-between items-start text-gray-400\">\n                            <p class=\"text-sm font-medium text-indigo-600 truncate\">\n                              <span class=\"text-sm font-medium text-gray-600 truncate\">Reference order n :</span>\n                              {{order.id}}\n                            </p>\n                            <p class=\"text-sm font-medium text-indigo-600 truncate\">\n                              <span class=\"text-sm font-medium text-gray-600 truncate\">From :</span>\n                              {{moment(order.startdate).format('DD-MM-YYYY')}}\n                            </p>\n                            <p class=\"text-sm font-medium text-indigo-600 truncate\">\n                              <span class=\"text-sm font-medium text-gray-600 truncate\">To :</span>\n                              {{moment(order.finishdate).format('DD-MM-YYYY')}}\n                            </p>\n                            <span class=\"ml-6 h-7 flex items-center\">\n                              <ChevronDownIcon :class=\"[open ? '-rotate-180' : 'rotate-0', 'h-6 w-6 transform']\" aria-hidden=\"true\" />\n                            </span>\n                          </DisclosureButton>\n                        </dt>\n                        <DisclosurePanel as=\"dd\" class=\"mt-2\">\n                          <div class=\"py-3 border-b-4 border-indigo-600 \" >\n                            <div class=\"bg-white py-3 border-t border-b border-gray-200 shadow-sm sm:border\">\n                              <div class=\"py-6 px-4 sm:px-6 lg:grid lg:grid-cols-12 lg:gap-x-8 lg:p-8\">\n                                <div class=\"sm:flex lg:col-span-7 border-b \">\n                                  <div class=\"mt-6 mb-1 sm:mt-0\">\n                                    <h1 class=\"text-base font-xlarge text-gray-900\">\n                                      Rfrence de l'achat n {{ order.id }}\n                                    </h1>\n                                    <p class=\"text-gray-500 font-medium\">blabla</p>\n                                  </div>\n                                </div>\n                                <div class=\"sm:flex lg:col-span-7 mt-5\">\n                                  <dl class=\"grid grid-cols-2 gap-x-6 text-sm\">\n                                    <div>\n                                      <dt class=\"font-medium text-gray-900\">From:</dt>\n                                      <dd class=\"text-gray-500\">\n                                        <span class=\"block\">\n                                          {{moment(order.finishdate).format('DD-MM-YYYY')}}\n                                        </span>\n                                      </dd>\n                                      <dt class=\"font-medium text-gray-900 mt-3\">Number of guests:</dt>\n                                      <dd class=\"text-gray-500\">\n                                        <span class=\"block\">{{order.guests}}</span>\n                                      </dd>\n                                    </div>\n                                    <div>\n                                      <dt class=\"font-medium text-gray-900\">To:</dt>\n                                      <dd class=\"text-gray-500 space-y-3\">\n                                        <p>\n                                          {{moment(order.startdate).format('DD-MM-YYYY')}}\n                                        </p>\n                                      </dd>\n                                      <dt class=\"mt-3 font-medium text-gray-900\">Checkout time:</dt>\n                                      <dd class=\"text-gray-500 space-y-3\">\n                                        <p>\n                                          {{order.starttime}}:00\n                                        </p>\n                                      </dd>\n                                    </div>\n                                  </dl>\n                                </div>\n\n                                <div class=\"mt-6 lg:mt-0 lg:col-span-5 lg:mt-5\">\n                                  <dl class=\"grid grid-cols-2 gap-x-6 text-sm\">\n                                    <div>\n                                      <dt class=\"font-medium text-gray-900\">Additionals:</dt>\n                                      <dd v-for=\"extra in order.extras\" v-bind:key=\"extra.id\" class=\"text-gray-500\">\n                                        <span class=\"block\">{{extra.name}}: {{extra.quantity}}</span>\n                                      </dd>\n                                    </div>\n                                  </dl>\n                                </div>\n                              </div>\n                            </div>\n\n                            <div class=\"bg-gray-100 py-6 px-4 sm:px-6 lg:px-8 lg:py-8 lg:grid lg:grid-cols-12 lg:gap-x-8\">\n                              <dl class=\"grid grid-cols-2 gap-6 text-sm sm:grid-cols-2 md:gap-x-8 lg:col-span-7\">\n                                <div v-if=\"order.user\">\n                                  <dt class=\"font-medium text-gray-900\">User account:</dt>\n                                  <dd class=\"mt-3 text-gray-500\">\n                                    <span class=\"block\">{{order.user.name}}</span>\n                                    <span class=\"block\">{{order.user.email}}</span>\n                                  </dd>\n                                </div>\n                                <div v-else>\n                                  <dt class=\"font-medium text-gray-900\">User account:</dt>\n                                  <dd class=\"mt-3 text-gray-500\">\n                                    <span class=\"block\">This user has been deleted</span>\n                                  </dd>\n                                </div>\n                                <div>\n                                  <dt class=\"font-medium text-gray-900\">Payment information:</dt>\n                                  <div class=\"mt-3\">\n                                    <dd class=\"-ml-4 -mt-4 flex flex-wrap\">\n\n                                      <div class=\"ml-4 mt-4\">\n                                        <p class=\"text-gray-500\">\n                                          <CreditCardIcon class=\"h-6 w-6\"></CreditCardIcon>\n                                        </p>\n                                        <p class=\"text-gray-500\">\n                                          Brand:  <span class=\"uppercase\">{{order.cardBrand}}</span>\n                                        </p>\n                                        <p class=\"text-gray-500\">\n                                          Ending with: {{order.lastFour}}\n                                        </p>\n                                        <p class=\"text-gray-500\">\n                                          Expire: {{order.expire}}\n                                        </p>\n                                      </div>\n                                    </dd>\n                                  </div>\n                                </div>\n                              </dl>\n\n                              <dl class=\"mt-8 divide-y divide-gray-200 text-sm lg:mt-0 lg:col-span-5\">\n                                <div class=\"pt-4 flex items-center justify-between\">\n                                  <dt class=\"font-medium text-gray-900\">ID trans:</dt>\n                                  <dd class=\"font-medium text-indigo-600\">{{order.transactionID}}</dd>\n                                </div>\n                                <div class=\"pt-4 flex items-center justify-between\">\n                                  <dt class=\"font-medium text-gray-900\">Total de la commande</dt>\n                                  <dd class=\"font-medium text-indigo-600\"> {{order.amount/100}}</dd>\n                                </div>\n                                <div class=\"sm:flex p-2 text-right mt-2\">\n                                  <div class=\"ml-2  md:mt-0 lg:mt-0 text-right\">\n                                    <button type=\"button\" @click=\"removeOrder(order.id, index)\" class=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 text-right\">\n                                      <TrashIcon class=\"h-4 w-4\" aria-hidden=\"true\" />\n                                    </button>\n                                  </div>\n                                </div>\n                              </dl>\n                            </div>\n                          </div>\n                        </DisclosurePanel>\n                      </Disclosure>\n                    </dl>\n                  </div>\n                </div>\n              </div>\n            </main>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport { CreditCardIcon, ChevronDownIcon, TrashIcon, RefreshIcon } from '@heroicons/vue/outline'\nimport { Disclosure, DisclosureButton, DisclosurePanel,Listbox, ListboxButton, ListboxLabel, ListboxOption, ListboxOptions, } from '@headlessui/vue'\nimport moment from 'moment'\nimport 'v-calendar/dist/style.css';\nimport {CheckIcon, SelectorIcon, XCircleIcon, XIcon,} from '@heroicons/vue/solid'\n\n\nconst tabs = [\n  { name: 'My Account', href: '/dashboard', current: false },\n  { name: 'Timeslot reservations', href: '/timeslotreservations', current: false },\n  { name: 'Full day reservations', href: '/fulldayreservations', current: true },\n  { name: 'Price & date options', href: '/pricedateoptions', current: false },\n  { name: 'Additional options', href: '/additionaloptions', current: false },\n]\n\nlet data = {\n  disable:{},\n  attributes: [\n    {\n      key: 'today',\n      highlight: {\n        color: 'blue',\n        fillMode: 'solid',\n      },\n      dates: new Date(),\n    },\n  ],\n}\n\nexport default {\n\n\n  mounted() {\n\n    // Receiving specialdays\n    this.axios.get(process.env.VUE_APP_URL_API + \"api/spcialdays\",)\n        .then(response => {\n          this.specialday = response.data\n        })\n\n\n    // this.axios.post(process.env.VUE_APP_URL_API + \"api/fulldays\")\n    //     .then(response => {\n    //       this.orders = response.data\n    //     })\n\n    this.axios.get(process.env.VUE_APP_URL_API + \"api/timeslots\",)\n        .then(response => {\n          this.timeslots = response.data\n        })\n\n    // Receiving all the additional information\n    this.axios.get(process.env.VUE_APP_URL_API + \"api/additionals\")\n        .then(response => {\n          let additionals = response.data\n          this.additionals = additionals.map(element=>{\n            return {id:element.id, name: element.name, description: element.description, price:element.price, image:element.image, language:element.language, quantity: 0 }\n          })\n        })\n\n    // Receiving all the timeslots already booked formatted for calendar\n    this.axios.post(process.env.VUE_APP_URL_API + \"api/slots\")\n        .then(response => {\n          let slots = response.data\n          this.slots = slots.map(element=>{\n            return { start: new Date(element.startdate), end: new Date(element.finishdate), starttime: element.starttime, finishtime: element.finishtime, slot: element.slot_id }\n          })\n        })\n\n    // Receiving all the fullday already booked formatted for calendar\n    this.axios.post(process.env.VUE_APP_URL_API + \"api/fulldays\")\n        .then(response => {\n          let fulldays = response.data\n          this.fulldays = fulldays.map(element=>{\n            return { start: new Date(element.startdate), end: new Date(element.finishdate), starttime: element.starttime, finishtime: element.finishtime, slot: element.slot_id }\n          })\n          // Filter all the fulldays where the reservation takes only the first slot of the checkout day\n          let slot1 = this.fulldays.filter(it => it.slot.includes(1));\n          slot1.map(function(item){\n            let end =  new Date(item.end)\n            end.setDate(end.getDate() - 1)\n            item.end = end\n            return item;\n          })\n          // Filter all the fulldays where the the reservtion take more than first slot ( late checkout )\n          let otherSlot = this.fulldays.filter(it => it.slot  != 1);\n          // merge de result in order to correctly populate the calendar daily based ( if standard checkout we can concat another fulldays reservation - else book the full day )\n          // slot1 = standard chekout , otherSlot = take all the day coz there is late checkout, this.slots = if there is a timeslot taken block the fullday\n          let dates = [...slot1, ...otherSlot, ...this.slots]\n          this.dates = dates\n          let disable =  [\n            this.dates\n          ]\n          this.disableCalendar = disable[0]\n        })\n\n    // ROOMS DATA\n    this.axios.get(process.env.VUE_APP_URL_API + \"api/products \")\n        .then(response => {\n          this.products = response.data\n        })\n\n    this.fetchOrders();\n  },\n\n\n  beforeMount(){\n\n    this.axios.post(process.env.VUE_APP_URL_API + 'api/fulldaysadmin')\n        .then(response =>\n            this.orders = response.data\n        )\n\n    // Receiving groups\n    this.axios.get(process.env.VUE_APP_URL_API + \"api/groups\",)\n        .then(response => {\n          this.numberOfPeopleFullDay = response.data\n        })\n\n    // Receiving checkouts\n    this.axios.get(process.env.VUE_APP_URL_API + \"api/checkouts\",)\n        .then(response => {\n          this.lateCheckout = response.data\n        })\n  },\n\n  computed: {\n    setUser:{\n      get(){\n        return this.$store.state.setUser\n      }\n    },\n\n    secondstage:{\n      get(){\n        return this.$store.state.reservation\n      },\n    },\n\n    filterOrders(){\n      return this.orders.filter(order => order.id == this.searchQuery)\n    },\n\n    /* eslint-disable */\n    sortedOrders: function() {\n      this.orders.sort( ( a, b) => {\n        return new Date(b.id) - new Date(a.id);\n      });\n      return this.orders;\n    }\n    /* eslint-enable */\n  },\n\n  methods: {\n    fetchOrders(){\n      this.axios.post(process.env.VUE_APP_URL_API + 'api/fulldaysadmin')\n          .then(response =>\n              this.orders = response.data\n          )\n    },\n\n    /* eslint-disable */\n    removeOrder(orderID, index) {\n      this.axios.delete(process.env.VUE_APP_URL_API + \"api/reservations/\" + orderID)\n          .then(response => {\n            this.orders.splice(index, 1)\n          })\n\n          .catch(error => {\n            console.log(error);\n          })\n      /* eslint-enable */\n    },\n\n    latecheckout(price, slot, start, end){\n      this.onlyRoomPrice=''\n      this.amount = ''\n      this.range = ''\n      this.checkoutPrice = price\n      this.checkOutSlot = slot\n      this.checkOutStart = start\n      this.checkOutEnd = end\n    },\n\n    cons(){\n      console.log(this.range)\n    },\n\n    checknumberOfPeople(e){\n      this.onlyRoomPrice=''\n      this.amount = ''\n      this.emptyDates = ''\n      this.emptyGuests = ''\n      this.axios.post(process.env.VUE_APP_URL_API + \"api/fulldays\")\n          .then(response => {\n            let fulldays = response.data\n            this.fulldays = fulldays.map(element=>{\n              return { start: new Date(element.startdate), end: new Date(element.finishdate), starttime: element.starttime, finishtime: element.finishtime, slot: element.slot_id }\n            })\n            // Filter all the fulldays where the reservation takes only the first slot of the checkout day\n            let slot1 = this.fulldays.filter(it => it.slot.includes(1));\n            slot1.map(function(item){\n              let end =  new Date(item.end)\n              end.setDate(end.getDate() - 1)\n              item.end = end\n              return item;\n            })\n            // Filter all the fulldays where the the reservtion take more than first slot ( late checkout )\n            let otherSlot = this.fulldays.filter(it => it.slot  != 1);\n            // merge de result in order to correctly populate the calendar daily based ( if standard checkout we can concat another fulldays reservation - else book the full day )\n            // slot1 = standard chekout , otherSlot = take all the day coz there is late checkout, this.slots = if there is a timeslot taken block the fullday\n            let dates = [...slot1, ...otherSlot, ...this.slots]\n            this.dates = dates\n          })\n      // passing like event the number of select number of people and apply condition weekend => less than 16 no weekend\n      if(e == \"8\" || e == \"9\" || e == \"10\"){\n        this.guests = e\n        this.amount = ''\n        this.range = ''\n        let disable =  [\n          this.dates\n        ]\n        let weekend = {weekdays: [6, 7,]}\n        disable[0].unshift(weekend);\n        let bookeed =  [\n          disable[0]\n        ]\n        this.disableCalendar = bookeed[0]\n        this.guests = e\n      } else {\n        this.guests = e\n        this.amount = ''\n        this.range = ''\n        // this.dates.shift()\n        let disable =  [\n          this.dates\n        ]\n        this.disableCalendar = disable[0]\n        this.guests = e\n      }\n    },\n\n    clearError(){\n      this.emptyGuests = ''\n      this.range = ''\n    },\n\n\n    calculate() {\n\n      if(this.range == '') {\n        this.emptyDates = 'Please select a valid range of days'\n      } else {\n        if(this.guests ==''){\n          this.emptyGuests = 'Please select number of guests'\n        } else {\n          // setting const = to data from DB\n          const specialday = this.specialday\n          // Formatting selected starting date\n          let startDate = moment(this.range['start']).format('MM-DD-YYYY')\n          // Formatting selected ending date\n          let toDate = moment(this.range['end']).format('MM-DD-YYYY')\n          // Filter if selected starting date OR selected ending date are inside range of special day\n          let resultProductData = specialday.filter(element => {\n            // Formatting special day starting range\n            let fromDate = element.fromMonth+'-'+element.fromDate+'-'+moment(this.range['start']).format('YYYY')\n            // Formatting special day ending range\n            let endDate = element.toMonth+'-'+element.toDate+'-'+moment(this.range['end']).format('YYYY')\n            // check condition\n            if  (  startDate >= fromDate && startDate <=  endDate ||  toDate >= fromDate && toDate <=  endDate  ){\n              // return an array with the special day period range hit by the day starting range or the day ending range\n              return true\n            }\n          });\n          if (resultProductData != ''){\n            //THERE ARE SPECIAL DATE IN THE SELECTED RANGE OF DATE\n            let difference = this.range['start'] - this.range['end']\n            let daysdifference = Math.ceil(difference / (1000 * 3600 * 24));\n            let days = Math.abs(daysdifference )\n            let amount = days * this.products[0]['price'] * this.guests\n            // Partial total wihtout late checkout\n            this.onlyRoomPrice = (((amount / 100) * this.products[0].specialdayinflation) + amount)\n            //Total\n            if(this.checkoutPrice != '') {\n              this.amount = (((amount / 100) * this.products[0].specialdayinflation) + amount) + parseInt(this.checkoutPrice)\n            } else {\n              this.amount = (((amount / 100) * this.products[0].specialdayinflation) + amount)\n            }\n          } else {\n            // NO SPECIAL DATE IN THE SELECTED RANGE OF DATE\n            // Calculate how many Friday & Saturay & Sunday in the range of reservation\n            let dDate1 = new Date(this.range['start'])\n            let dDate2 = new Date(this.range['end'])\n            //We are working with time stamps\n            let from = dDate1.getTime()\n            let to = dDate2.getTime()\n            let tempDate = new Date()\n            let count = 0;\n            //loop through each day between the dates 86400000 = 1 day\n            for(let _from = from; _from < to; _from += 86400000){\n              //set the day\n              tempDate.setTime(_from);\n              //If it is a weekend add 1 to count\n              if ((tempDate.getDay() <= 0) || (tempDate.getDay() >= 4)) {\n                count++;\n              }\n            }\n            if(count == 0){\n              //  NO WEEKEND BETWEEN RANGE OF DATE\n              // Total number of day from dates range picker\n              let difference = this.range['start'] - this.range['end']\n              let daysdifference = Math.ceil(difference / (1000 * 3600 * 24));\n              let days = Math.abs(daysdifference )\n              // Total\n              let amount = days * this.products[0]['price'] * this.guests\n              // Partial total wihtout late checkout\n              this.onlyRoomPrice = amount\n              // Total\n              if(this.checkoutPrice != '') {\n                this.amount = amount + parseInt(this.checkoutPrice)\n              } else {\n                this.amount = amount\n              }\n            } else {\n              // THERE IS WEEKEND BETWEEN RANGE OF DATE\n              // Total number of day from dates range picker\n              let difference = this.range['start'] - this.range['end']\n              let daysdifference = Math.ceil(difference / (1000 * 3600 * 24));\n              let days = Math.abs(daysdifference )\n              //sistem count the weekend days but reservation sistem is based on night so -1\n              let night = count -1\n              // Amount for weekend nights\n              let weekend = night * this.products[0]['price'] * this.guests\n              // Adding inflation for weekend nights\n              let weekendTotal = (((weekend / 100) * this.products[0].weekendinflation) + weekend)\n              // Number of week days\n              let weekday = days - night\n              // Amount for week nights\n              let weekdayTotal = weekday * this.products[0]['price'] * this.guests\n              // Partial total wihtout late checkout\n              this.onlyRoomPrice = weekendTotal + weekdayTotal\n              // Total\n              if(this.checkoutPrice != '') {\n                this.amount = weekendTotal + weekdayTotal + parseInt(this.checkoutPrice)\n              }\n              else{\n                this.amount = weekendTotal + weekdayTotal\n              }\n            }\n          }\n        }\n      }\n    },\n\n    additional(){\n\n      let additionalAmount  = this.additionals.map(element => {\n        return{id:element.id, name:element.name, description:element.description, price:element.price, quantity: element.quantity, total:(element.price* element.quantity)}\n      });\n\n\n      this.add = additionalAmount\n\n      let total = additionalAmount.reduce(function(prev, cur) {\n        return prev + cur.total;\n      }, 0);\n\n      this.additionalAmount = total\n      this.amount = parseInt(this.additionalAmount) + parseInt(this.reservation.amount)\n\n    },\n\n    refresh(){\n      this.$router.go()\n    },\n\n    confirmation(){\n      let language = 'FR'\n      let transactionID = 'admin reservation'\n      let cardBrand = 'no card required'\n      let lastFour = 'admin account'\n      let expire = 'no expire date'\n      let user_id = this.setUser.id\n      let product_id = '1'\n      let startdate = moment(this.secondstage.start).format('YYYY-M-DD')\n      let finishdate = moment(this.secondstage.end).format('YYYY-M-DD')\n      let starttime = this.secondstage.checkOutStart\n      let finishtime = this.secondstage.checkOutEnd\n      let slot_id = this.secondstage.slot\n      let fullday = '1'\n      let guests = this.secondstage.guests\n      let amount = parseInt(this.amount)\n\n      this.axios.post(process.env.VUE_APP_URL_API + 'api/adminreservation',\n          {\n            user_id,\n            product_id,\n            startdate,\n            finishdate,\n            starttime,\n            finishtime,\n            slot_id,\n            fullday,\n            guests,\n            transactionID,\n            cardBrand,\n            lastFour,\n            expire,\n            amount,\n            language\n          })\n          .then((response) => {\n            console.log(response.data.id)\n            let extras = this.add.map(element => this.axios.post(process.env.VUE_APP_URL_API + 'api/extras',{reservation_id: response.data.id, name: element.name, price:element.price, quantity:element.quantity  }))\n            console.log(extras)\n\n          })\n          .catch((error) => {\n            this.error = error.response.data.message;\n          });\n\n      if(this.error != ''){\n\n        this.additionalAmount = ''\n        this.range = ''\n        this.guests = ''\n        this.addAdditional = ''\n        this.amount = ''\n        this.success = 'Successfully book'\n        this.$store.commit('clearReservation')\n        this.$store.commit('clearAdditionals')\n        this.$store.commit('cleartotalAmount')\n        this.$store.commit('clearlateCheckout')\n\n        this.error = 'Something goes wrong please try again'\n\n      } else {\n        this.additionalAmount = ''\n        this.range = ''\n        this.guests = ''\n        this.addAdditional = ''\n        this.amount = ''\n        this.success = 'Successfully book'\n        this.$store.commit('clearReservation')\n        this.$store.commit('clearAdditionals')\n        this.$store.commit('cleartotalAmount')\n        this.$store.commit('clearlateCheckout')\n      }\n    },\n\n\n    next( range, amount, guests ){\n      if(this.amount == ''|| this.onlyRoomPrice ==''){\n        this.emptySelection = 'Please fill all the field necessary to complete your reservation '\n      } else {\n\n        let fromDate = this.range.start\n        let toDate = this.range.end\n        if(this.checkoutPrice == '') {\n          this.checkoutPrice = 0\n        }\n        if(this.checkOutStart ==\"\"){\n          this.checkOutStart = this.lateCheckout[0]['start']\n        }\n        if(this.checkOutEnd ==\"\"){\n          this.checkOutEnd = this.lateCheckout[0]['end']\n        }\n        if(this.checkOutSlot==\"\"){\n          this.checkOutSlot = this.lateCheckout[0]['slot']\n        }\n\n        const book =\n            {\n              start: fromDate,\n              end:toDate,\n              dates: range,\n              amount: amount,\n              guests: guests,\n              slot: this.checkOutSlot,\n              onlyRoomPrice: this.onlyRoomPrice,\n              checkoutPrice: this.checkoutPrice,\n              checkOutStart:this.checkOutStart,\n              checkOutEnd: this.checkOutEnd,\n            }\n\n        // this.$store.commit('lateCheckout', (this.checkoutPrice))\n        this.$store.commit('setReservation', (book))\n        this.addAdditional = 1\n      }\n    },\n\n  },\n\n\n  /* eslint-disable */\n  watch: {\n    'additionalAmount': function(val, oldVal){\n      if (val != '') {\n        const amount = this.amount\n        this.amount= (amount - oldVal + val);\n      }else{\n        const amount = this.amount\n        this.amount= (amount - oldVal + val);\n      }\n    }\n  },\n\n\n  data(){\n    return{\n      orders : [],\n      facet: [],\n      searchQuery: null,\n\n      add:'',\n      additionals:'',\n      additionalAmount:'',\n      error:'',\n      success:'',\n\n      lateCheckout:'',\n      numberOfPeopleFullDay:'',\n      specialday:'',\n      PreSelectedCheckOut:[{name: 'Make your choise', price: 0,}],\n      NumPeople:[{name: 'Make your choise'}],\n      emptySelection:'',\n      onlyRoomPrice:'',\n      checkoutPrice:'',\n      checkOutSlot: 1,\n      checkOutStart:'',\n      checkOutEnd: '',\n      emptyGuests:'',\n      dates:'',\n      slots:'',\n      timeslots:'',\n      fulldays:'',\n      guests:'',\n      amount:'',\n      products:'',\n      disabledDays: [],\n      disableCalendar:[],\n      reservations:'',\n      range:'',\n      matchSpecialDay: '',\n      addAdditional:'',\n    }\n  },\n\n\n  setup() {\n    return {\n      tabs,\n      data,\n      moment\n    }\n  },\n\n\n  components: {\n    RefreshIcon,\n    CreditCardIcon,\n    ChevronDownIcon,\n    Disclosure,\n    DisclosureButton,\n    DisclosurePanel,\n    TrashIcon,\n    CheckIcon,\n    SelectorIcon,\n    XCircleIcon,\n    XIcon,\n    Listbox,\n    ListboxButton,\n    ListboxLabel,\n    ListboxOption,\n    ListboxOptions,\n  },\n}\n</script>\n\n<style>\n.mycustomcalendar{\n  background: rgb(249, 250, 251);\n  border-radius: 0;\n  border: none;\n}\n/* COLOR WEEKDAY */\n/* .vc-weekday{\n  color:#2D3748;\n} */\n</style>\n\n"]}]}